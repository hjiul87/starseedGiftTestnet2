/*! For license information please see 942.50548e38.chunk.js.LICENSE.txt */
(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[942],{24470:function(e,t,r){"use strict";var n=r(56690).default,i=r(89728).default,o=r(66115).default,a=r(61655).default,s=r(26389).default,u=r(2470),c=r(60545),h="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=f,t.h2=50;var l=2147483647;function d(e){if(e>l)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,f.prototype),t}function f(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return y(e)}return p(e,t,r)}function p(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!f.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|w(e,t),n=d(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(ee(e,Uint8Array)){var t=new Uint8Array(e);return m(t.buffer,t.byteOffset,t.byteLength)}return v(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ee(e,ArrayBuffer)||e&&ee(e.buffer,ArrayBuffer))return m(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(ee(e,SharedArrayBuffer)||e&&ee(e.buffer,SharedArrayBuffer)))return m(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return f.from(n,t,r);var i=function(e){if(f.isBuffer(e)){var t=0|b(e.length),r=d(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||te(e.length)?d(0):v(e);if("Buffer"===e.type&&Array.isArray(e.data))return v(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return f.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function g(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function y(e){return g(e),d(e<0?0:0|b(e))}function v(e){for(var t=e.length<0?0:0|b(e.length),r=d(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function m(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,f.prototype),n}function b(e){if(e>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return 0|e}function w(e,t){if(f.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ee(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Q(e).length;default:if(i)return n?-1:Y(e).length;t=(""+t).toLowerCase(),i=!0}}function k(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return W(this,t,r);case"utf8":case"utf-8":return O(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return N(this,t,r);case"base64":return Z(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function I(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function _(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),te(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=f.from(t,n)),f.isBuffer(t))return 0===t.length?-1:S(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):S(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function S(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var h=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===u)return h*a}else-1!==h&&(o-=o-h),h=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var l=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){l=!1;break}if(l)return o}return-1}function E(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o,a=t.length;for(n>a/2&&(n=a/2),o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(te(s))return o;e[r+o]=s}return o}function A(e,t,r,n){return $(Y(t,e.length-r),e,r,n)}function x(e,t,r,n){return $(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function R(e,t,r,n){return $(Q(t),e,r,n)}function P(e,t,r,n){return $(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function Z(e,t,r){return 0===t&&r===e.length?u.fromByteArray(e):u.fromByteArray(e.slice(t,r))}function O(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=r){var u=void 0,c=void 0,h=void 0,l=void 0;switch(s){case 1:o<128&&(a=o);break;case 2:128===(192&(u=e[i+1]))&&(l=(31&o)<<6|63&u)>127&&(a=l);break;case 3:u=e[i+1],c=e[i+2],128===(192&u)&&128===(192&c)&&(l=(15&o)<<12|(63&u)<<6|63&c)>2047&&(l<55296||l>57343)&&(a=l);break;case 4:u=e[i+1],c=e[i+2],h=e[i+3],128===(192&u)&&128===(192&c)&&128===(192&h)&&(l=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&h)>65535&&l<1114112&&(a=l)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}(n)}f.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(r){return!1}}(),f.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(e,t,r){return p(e,t,r)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(e,t,r){return function(e,t,r){return g(e),e<=0?d(e):void 0!==t?"string"===typeof r?d(e).fill(t,r):d(e).fill(t):d(e)}(e,t,r)},f.allocUnsafe=function(e){return y(e)},f.allocUnsafeSlow=function(e){return y(e)},f.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==f.prototype},f.compare=function(e,t){if(ee(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),ee(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(e)||!f.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},f.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return f.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=f.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(ee(o,Uint8Array))i+o.length>n.length?(f.isBuffer(o)||(o=f.from(o)),o.copy(n,i)):Uint8Array.prototype.set.call(n,o,i);else{if(!f.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},f.byteLength=w,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)I(this,t,t+1);return this},f.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)I(this,t,t+3),I(this,t+1,t+2);return this},f.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)I(this,t,t+7),I(this,t+1,t+6),I(this,t+2,t+5),I(this,t+3,t+4);return this},f.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):k.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(e){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===f.compare(this,e)},f.prototype.inspect=function(){var e="",r=t.h2;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},h&&(f.prototype[h]=f.prototype.inspect),f.prototype.compare=function(e,t,r,n,i){if(ee(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(n,i),c=e.slice(t,r),h=0;h<s;++h)if(u[h]!==c[h]){o=u[h],a=c[h];break}return o<a?-1:a<o?1:0},f.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},f.prototype.indexOf=function(e,t,r){return _(this,e,t,r,!0)},f.prototype.lastIndexOf=function(e,t,r){return _(this,e,t,r,!1)},f.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return E(this,e,t,r);case"utf8":case"utf-8":return A(this,e,t,r);case"ascii":case"latin1":case"binary":return x(this,e,t,r);case"base64":return R(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function C(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function N(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function W(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=re[e[o]];return i}function B(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function U(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,r,n,i,o){if(!f.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function z(e,t,r,n,i){J(t,n,i,e,r,7);var o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function j(e,t,r,n,i){J(t,n,i,e,r,7);var o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function M(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function q(e,t,r,n,i){return t=+t,r>>>=0,i||M(e,0,r,4),c.write(e,t,r,n,23,4),r+4}function D(e,t,r,n,i){return t=+t,r>>>=0,i||M(e,0,r,8),c.write(e,t,r,n,52,8),r+8}f.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,f.prototype),n},f.prototype.readUintLE=f.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},f.prototype.readUintBE=f.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},f.prototype.readUint8=f.prototype.readUInt8=function(e,t){return e>>>=0,t||U(e,1,this.length),this[e]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(e,t){return e>>>=0,t||U(e,2,this.length),this[e]|this[e+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(e,t){return e>>>=0,t||U(e,2,this.length),this[e]<<8|this[e+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(e,t){return e>>>=0,t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(e,t){return e>>>=0,t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},f.prototype.readBigUInt64LE=ne((function(e){H(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||X(e,this.length-8);var n=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),i=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+r*Math.pow(2,24);return BigInt(n)+(BigInt(i)<<BigInt(32))})),f.prototype.readBigUInt64BE=ne((function(e){H(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||X(e,this.length-8);var n=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],i=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),f.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},f.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},f.prototype.readInt8=function(e,t){return e>>>=0,t||U(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},f.prototype.readInt16LE=function(e,t){e>>>=0,t||U(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt16BE=function(e,t){e>>>=0,t||U(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt32LE=function(e,t){return e>>>=0,t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},f.prototype.readInt32BE=function(e,t){return e>>>=0,t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},f.prototype.readBigInt64LE=ne((function(e){H(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||X(e,this.length-8);var n=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),f.prototype.readBigInt64BE=ne((function(e){H(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||X(e,this.length-8);var n=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r)})),f.prototype.readFloatLE=function(e,t){return e>>>=0,t||U(e,4,this.length),c.read(this,e,!0,23,4)},f.prototype.readFloatBE=function(e,t){return e>>>=0,t||U(e,4,this.length),c.read(this,e,!1,23,4)},f.prototype.readDoubleLE=function(e,t){return e>>>=0,t||U(e,8,this.length),c.read(this,e,!0,52,8)},f.prototype.readDoubleBE=function(e,t){return e>>>=0,t||U(e,8,this.length),c.read(this,e,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||L(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||L(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},f.prototype.writeUint8=f.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,1,255,0),this[t]=255&e,t+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},f.prototype.writeBigUInt64LE=ne((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return z(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),f.prototype.writeBigUInt64BE=ne((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return j(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),f.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},f.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},f.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},f.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},f.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},f.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},f.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},f.prototype.writeBigInt64LE=ne((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return z(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),f.prototype.writeBigInt64BE=ne((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return j(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),f.prototype.writeFloatLE=function(e,t,r){return q(this,e,t,!0,r)},f.prototype.writeFloatBE=function(e,t,r){return q(this,e,t,!1,r)},f.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},f.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},f.prototype.copy=function(e,t,r,n){if(!f.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},f.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=f.isBuffer(e)?e:f.from(e,n),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var K={};function G(e,t,r){K[e]=function(r){a(c,r);var u=s(c);function c(){var r;return n(this,c),r=u.call(this),Object.defineProperty(o(r),"message",{value:t.apply(o(r),arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(e,"]"),r.stack,delete r.name,r}return i(c,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),c}(r)}function F(e){for(var t="",r=e.length,n="-"===e[0]?1:0;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function J(e,t,r,n,i,o){if(e>r||e<t){var a,s="bigint"===typeof t?"n":"";throw a=o>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(o+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(o+1)-1).concat(s,") and < 2 ** ")+"".concat(8*(o+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(r).concat(s),new K.ERR_OUT_OF_RANGE("value",a,e)}!function(e,t,r){H(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||X(t,e.length-(r+1))}(n,i,o)}function H(e,t){if("number"!==typeof e)throw new K.ERR_INVALID_ARG_TYPE(t,"number",e)}function X(e,t,r){if(Math.floor(e)!==e)throw H(e,r),new K.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new K.ERR_BUFFER_OUT_OF_BOUNDS;throw new K.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}G("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),G("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),G("ERR_OUT_OF_RANGE",(function(e,t,r){var n='The value of "'.concat(e,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>Math.pow(2,32)?i=F(String(r)):"bigint"===typeof r&&(i=String(r),(r>Math.pow(BigInt(2),BigInt(32))||r<-Math.pow(BigInt(2),BigInt(32)))&&(i=F(i)),i+="n"),n+=" It must be ".concat(t,". Received ").concat(i)}),RangeError);var V=/[^+/0-9A-Za-z-_]/g;function Y(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Q(e){return u.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function $(e,t,r,n){var i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function ee(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function te(e){return e!==e}var re=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}();function ne(e){return"undefined"===typeof BigInt?ie:e}function ie(){throw new Error("BigInt not supported")}},59196:function(e,t,r){"use strict";var n=r(56690).default,i=r(89728).default,o=r(61655).default,a=r(26389).default,s=r(33496).default;Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;var u=r(62891),c=function(e){o(r,e);var t=a(r);function r(e,i,o){var a;if(n(this,r),!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!i||"string"!==typeof i)throw new Error('"message" must be a nonempty string.');return(a=t.call(this,i)).code=e,void 0!==o&&(a.data=o),a}return i(r,[{key:"serialize",value:function(){var e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}},{key:"toString",value:function(){return u.default(this.serialize(),l,2)}}]),r}(s(Error));t.EthereumRpcError=c;var h=function(e){o(r,e);var t=a(r);function r(e,i,o){if(n(this,r),!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');return t.call(this,e,i,o)}return i(r)}(c);function l(e,t){if("[Circular]"!==t)return t}t.EthereumProviderError=h},2506:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},81915:function(e,t,r){"use strict";var n=r(27424).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;var i=r(59196),o=r(13602),a=r(2506);function s(e,t){var r=c(t),a=n(r,2),s=a[0],u=a[1];return new i.EthereumRpcError(e,s||o.getMessageFromCode(e),u)}function u(e,t){var r=c(t),a=n(r,2),s=a[0],u=a[1];return new i.EthereumProviderError(e,s||o.getMessageFromCode(e),u)}function c(e){if(e){if("string"===typeof e)return[e];if("object"===typeof e&&!Array.isArray(e)){var t=e.message,r=e.data;if(t&&"string"!==typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:function(e){return s(a.errorCodes.rpc.parse,e)},invalidRequest:function(e){return s(a.errorCodes.rpc.invalidRequest,e)},invalidParams:function(e){return s(a.errorCodes.rpc.invalidParams,e)},methodNotFound:function(e){return s(a.errorCodes.rpc.methodNotFound,e)},internal:function(e){return s(a.errorCodes.rpc.internal,e)},server:function(e){if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");var t=e.code;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return s(t,e)},invalidInput:function(e){return s(a.errorCodes.rpc.invalidInput,e)},resourceNotFound:function(e){return s(a.errorCodes.rpc.resourceNotFound,e)},resourceUnavailable:function(e){return s(a.errorCodes.rpc.resourceUnavailable,e)},transactionRejected:function(e){return s(a.errorCodes.rpc.transactionRejected,e)},methodNotSupported:function(e){return s(a.errorCodes.rpc.methodNotSupported,e)},limitExceeded:function(e){return s(a.errorCodes.rpc.limitExceeded,e)}},provider:{userRejectedRequest:function(e){return u(a.errorCodes.provider.userRejectedRequest,e)},unauthorized:function(e){return u(a.errorCodes.provider.unauthorized,e)},unsupportedMethod:function(e){return u(a.errorCodes.provider.unsupportedMethod,e)},disconnected:function(e){return u(a.errorCodes.provider.disconnected,e)},chainDisconnected:function(e){return u(a.errorCodes.provider.chainDisconnected,e)},custom:function(e){if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");var t=e.code,r=e.message,n=e.data;if(!r||"string"!==typeof r)throw new Error('"message" must be a nonempty string');return new i.EthereumProviderError(t,r,n)}}}},28227:function(e,t,r){"use strict";t.Cg=t.Sy=void 0;var n=r(59196);Object.defineProperty(t,"Cg",{enumerable:!0,get:function(){return n.EthereumRpcError}});var i=r(13602);var o=r(81915);Object.defineProperty(t,"Sy",{enumerable:!0,get:function(){return o.ethErrors}});var a=r(2506)},13602:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;var n=r(2506),i=r(59196),o=n.errorCodes.rpc.internal,a="Unspecified error message. This is a bug, please report it.",s={code:o,message:u(o)};function u(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if(Number.isInteger(e)){var i=e.toString();if(d(n.errorValues,i))return n.errorValues[i].message;if(h(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function c(e){if(!Number.isInteger(e))return!1;var t=e.toString();return!!n.errorValues[t]||!!h(e)}function h(e){return e>=-32099&&e<=-32e3}function l(e){return e&&"object"===typeof e&&!Array.isArray(e)?Object.assign({},e):e}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=u,t.isValidCode=c,t.serializeError=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.fallbackError,a=void 0===o?s:o,h=n.shouldIncludeStack,f=void 0!==h&&h;if(!a||!Number.isInteger(a.code)||"string"!==typeof a.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof i.EthereumRpcError)return e.serialize();var p={};if(e&&"object"===typeof e&&!Array.isArray(e)&&d(e,"code")&&c(e.code)){var g=e;p.code=g.code,g.message&&"string"===typeof g.message?(p.message=g.message,d(g,"data")&&(p.data=g.data)):(p.message=u(p.code),p.data={originalError:l(e)})}else{p.code=a.code;var y=null===(t=e)||void 0===t?void 0:t.message;p.message=y&&"string"===typeof y?y:a.message,p.data={originalError:l(e)}}var v=null===(r=e)||void 0===r?void 0:r.stack;return f&&e&&v&&"string"===typeof v&&(p.stack=v),p}},99547:function(e,t,r){"use strict";r.d(t,{v:function(){return v}});var n=r(15861),i=r(15671),o=r(43144),a=r(97326),s=r(60136),u=r(82963),c=r(61120),h=r(4942),l=r(64687),d=r.n(l),f=r(87485),p=r(13646),g=r.n(p);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.Z)(this,r)}}var v=function(e){(0,s.Z)(r,e);var t=y(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.Z)(this,r),e=t.call(this),(0,h.Z)((0,a.Z)(e),"clientId",void 0),e.clientId=n.clientId,e}return(0,o.Z)(r,[{key:"authenticateUser",value:function(){var e=(0,n.Z)(d().mark((function e(){var t,r,n,i,o,a,s,u,c,h,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.provider&&null!==(t=this.chainConfig)&&void 0!==t&&t.chainId){e.next=2;break}throw f.RM.notConnectedError();case 2:if(r=this.chainConfig,n=r.chainNamespace,i=r.chainId,this.status===f.MP.CONNECTED){e.next=5;break}throw f.RM.notConnectedError("Not connected with wallet, Please login/connect first");case 5:return e.next=7,this.provider.request({method:"getAccounts"});case 7:if(!((o=e.sent)&&o.length>0)){e.next=27;break}if(!(a=(0,f.Cb)(o[0],this.name))){e.next=14;break}if((0,f.$E)(a)){e.next=14;break}return e.abrupt("return",{idToken:a});case 14:return s={domain:window.location.origin,uri:window.location.href,address:o[0],chainId:parseInt(i,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:(new Date).toISOString()},e.next=17,(0,f.tV)(s,n);case 17:return u=e.sent,c=(new TextEncoder).encode(u),e.next=21,this.provider.request({method:"signMessage",params:{message:c,display:"utf8"}});case 21:return h=e.sent,e.next=24,(0,f.rn)(n,g().encode(h),u,this.name,this.sessionTime,this.clientId);case 24:return l=e.sent,(0,f.Fr)(o[0],this.name,l),e.abrupt("return",{idToken:l});case 27:throw f.RM.notConnectedError("Not connected with wallet, Please login/connect first");case 28:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=(0,n.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status===f.MP.CONNECTED){e.next=2;break}throw f.RM.disconnectionError("Not connected with wallet");case 2:return e.next=4,this.provider.request({method:"getAccounts"});case 4:(t=e.sent)&&t.length>0&&(0,f.qz)(t[0],this.name);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(f.J5)},18445:function(e){"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var a=e.length,s=e.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function h(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===s;)n++,r++;for(var o=(e.length-r)*u+1>>>0,c=new Uint8Array(o);e[r];){var h=t[e.charCodeAt(r)];if(255===h)return;for(var l=0,d=o-1;(0!==h||l<i)&&-1!==d;d--,l++)h+=a*c[d]>>>0,c[d]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");i=l,r++}for(var f=o-i;f!==o&&0===c[f];)f++;for(var p=new Uint8Array(n+(o-f)),g=n;f!==o;)p[g++]=c[f++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var u=(o-i)*c+1>>>0,h=new Uint8Array(u);i!==o;){for(var l=t[i],d=0,f=u-1;(0!==l||d<n)&&-1!==f;f--,d++)l+=256*h[f]>>>0,h[f]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");n=d,i++}for(var p=u-n;p!==u&&0===h[p];)p++;for(var g=s.repeat(r);p<u;++p)g+=e.charAt(h[p]);return g},decodeUnsafe:h,decode:function(e){var t=h(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},13646:function(e,t,r){var n=r(18445);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},99942:function(e,t,r){"use strict";r.r(t),r.d(t,{SolanaWalletAdapter:function(){return qi}});var n=r(15861),i=r(15671),o=r(43144),a=r(97326),s=r(11752),u=r(60136),c=r(82963),h=r(61120),l=r(4942),d=r(64687),f=r.n(d),p=r(37762),g=r(29388),y=r(74165),v=r(98737),m=r(29439),b=r(1413),w=r(93433),k=r(79703),I=r.n(k),_=r(24470),S=r(64166),E=r.n(S),A=r(79955),x=r.n(A),R=r(53333),P=r(73289),Z=r(99563),O=r(63657),T=(r(56011),r(22630),r(33435)),C=r.n(T),N=r(37676),W=r.n(N),B=function(e){return _.lW.isBuffer(e)?e:e instanceof Uint8Array?_.lW.from(e.buffer,e.byteOffset,e.byteLength):_.lW.from(e)},U={},L={},z=j;function j(e,t){if(!e)throw new Error(t||"Assertion failed")}j.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var M={exports:{}};"function"===typeof Object.create?M.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:M.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var q=z,D=M.exports;function K(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function G(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function F(e){return 1===e.length?"0"+e:e}function J(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}L.inherits=D,L.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):K(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},L.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=F(e[r].toString(16));return t},L.htonl=G,L.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=G(i)),r+=J(i.toString(16))}return r},L.zero2=F,L.zero8=J,L.join32=function(e,t,r,n){var i=r-t;q(i%4===0);for(var o=new Array(i/4),a=0,s=t;a<o.length;a++,s+=4){var u;u="big"===n?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s],o[a]=u>>>0}return o},L.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},L.rotr32=function(e,t){return e>>>t|e<<32-t},L.rotl32=function(e,t){return e<<t|e>>>32-t},L.sum32=function(e,t){return e+t>>>0},L.sum32_3=function(e,t,r){return e+t+r>>>0},L.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},L.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},L.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,a=(o<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=o},L.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},L.sum64_lo=function(e,t,r,n){return t+n>>>0},L.sum64_4_hi=function(e,t,r,n,i,o,a,s){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+o>>>0)<o?1:0,e+r+i+a+(u+=(c=c+s>>>0)<s?1:0)>>>0},L.sum64_4_lo=function(e,t,r,n,i,o,a,s){return t+n+o+s>>>0},L.sum64_5_hi=function(e,t,r,n,i,o,a,s,u,c){var h=0,l=t;return h+=(l=l+n>>>0)<t?1:0,h+=(l=l+o>>>0)<o?1:0,h+=(l=l+s>>>0)<s?1:0,e+r+i+a+u+(h+=(l=l+c>>>0)<c?1:0)>>>0},L.sum64_5_lo=function(e,t,r,n,i,o,a,s,u,c){return t+n+o+s+c>>>0},L.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},L.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},L.shr64_hi=function(e,t,r){return e>>>r},L.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0};var H={},X=L,V=z;function Y(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}H.BlockHash=Y,Y.prototype.update=function(e,t){if(e=X.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=X.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},Y.prototype.digest=function(e){return this.update(this._pad()),V(null===this.pending),this._digest(e)},Y.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var Q={},$={},ee=L.rotr32;function te(e,t,r){return e&t^~e&r}function re(e,t,r){return e&t^e&r^t&r}function ne(e,t,r){return e^t^r}$.ft_1=function(e,t,r,n){return 0===e?te(t,r,n):1===e||3===e?ne(t,r,n):2===e?re(t,r,n):void 0},$.ch32=te,$.maj32=re,$.p32=ne,$.s0_256=function(e){return ee(e,2)^ee(e,13)^ee(e,22)},$.s1_256=function(e){return ee(e,6)^ee(e,11)^ee(e,25)},$.g0_256=function(e){return ee(e,7)^ee(e,18)^e>>>3},$.g1_256=function(e){return ee(e,17)^ee(e,19)^e>>>10};var ie=L,oe=H,ae=$,se=ie.rotl32,ue=ie.sum32,ce=ie.sum32_5,he=ae.ft_1,le=oe.BlockHash,de=[1518500249,1859775393,2400959708,3395469782];function fe(){if(!(this instanceof fe))return new fe;le.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ie.inherits(fe,le);var pe=fe;fe.blockSize=512,fe.outSize=160,fe.hmacStrength=80,fe.padLength=64,fe.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=se(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),h=ce(se(i,5),he(c,o,a,s),u,r[n],de[c]);u=s,s=a,a=se(o,30),o=i,i=h}this.h[0]=ue(this.h[0],i),this.h[1]=ue(this.h[1],o),this.h[2]=ue(this.h[2],a),this.h[3]=ue(this.h[3],s),this.h[4]=ue(this.h[4],u)},fe.prototype._digest=function(e){return"hex"===e?ie.toHex32(this.h,"big"):ie.split32(this.h,"big")};var ge=L,ye=H,ve=$,me=z,be=ge.sum32,we=ge.sum32_4,ke=ge.sum32_5,Ie=ve.ch32,_e=ve.maj32,Se=ve.s0_256,Ee=ve.s1_256,Ae=ve.g0_256,xe=ve.g1_256,Re=ye.BlockHash,Pe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ze(){if(!(this instanceof Ze))return new Ze;Re.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Pe,this.W=new Array(64)}ge.inherits(Ze,Re);var Oe=Ze;Ze.blockSize=512,Ze.outSize=256,Ze.hmacStrength=192,Ze.padLength=64,Ze.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=we(xe(r[n-2]),r[n-7],Ae(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4],c=this.h[5],h=this.h[6],l=this.h[7];for(me(this.k.length===r.length),n=0;n<r.length;n++){var d=ke(l,Ee(u),Ie(u,c,h),this.k[n],r[n]),f=be(Se(i),_e(i,o,a));l=h,h=c,c=u,u=be(s,d),s=a,a=o,o=i,i=be(d,f)}this.h[0]=be(this.h[0],i),this.h[1]=be(this.h[1],o),this.h[2]=be(this.h[2],a),this.h[3]=be(this.h[3],s),this.h[4]=be(this.h[4],u),this.h[5]=be(this.h[5],c),this.h[6]=be(this.h[6],h),this.h[7]=be(this.h[7],l)},Ze.prototype._digest=function(e){return"hex"===e?ge.toHex32(this.h,"big"):ge.split32(this.h,"big")};var Te=L,Ce=Oe;function Ne(){if(!(this instanceof Ne))return new Ne;Ce.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Te.inherits(Ne,Ce);var We=Ne;Ne.blockSize=512,Ne.outSize=224,Ne.hmacStrength=192,Ne.padLength=64,Ne.prototype._digest=function(e){return"hex"===e?Te.toHex32(this.h.slice(0,7),"big"):Te.split32(this.h.slice(0,7),"big")};var Be=L,Ue=H,Le=z,ze=Be.rotr64_hi,je=Be.rotr64_lo,Me=Be.shr64_hi,qe=Be.shr64_lo,De=Be.sum64,Ke=Be.sum64_hi,Ge=Be.sum64_lo,Fe=Be.sum64_4_hi,Je=Be.sum64_4_lo,He=Be.sum64_5_hi,Xe=Be.sum64_5_lo,Ve=Ue.BlockHash,Ye=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Qe(){if(!(this instanceof Qe))return new Qe;Ve.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Ye,this.W=new Array(160)}Be.inherits(Qe,Ve);var $e=Qe;function et(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function tt(e,t,r,n,i,o){var a=t&n^~t&o;return a<0&&(a+=4294967296),a}function rt(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function nt(e,t,r,n,i,o){var a=t&n^t&o^n&o;return a<0&&(a+=4294967296),a}function it(e,t){var r=ze(e,t,28)^ze(t,e,2)^ze(t,e,7);return r<0&&(r+=4294967296),r}function ot(e,t){var r=je(e,t,28)^je(t,e,2)^je(t,e,7);return r<0&&(r+=4294967296),r}function at(e,t){var r=ze(e,t,14)^ze(e,t,18)^ze(t,e,9);return r<0&&(r+=4294967296),r}function st(e,t){var r=je(e,t,14)^je(e,t,18)^je(t,e,9);return r<0&&(r+=4294967296),r}function ut(e,t){var r=ze(e,t,1)^ze(e,t,8)^Me(e,t,7);return r<0&&(r+=4294967296),r}function ct(e,t){var r=je(e,t,1)^je(e,t,8)^qe(e,t,7);return r<0&&(r+=4294967296),r}function ht(e,t){var r=ze(e,t,19)^ze(t,e,29)^Me(e,t,6);return r<0&&(r+=4294967296),r}function lt(e,t){var r=je(e,t,19)^je(t,e,29)^qe(e,t,6);return r<0&&(r+=4294967296),r}Qe.blockSize=1024,Qe.outSize=512,Qe.hmacStrength=192,Qe.padLength=128,Qe.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=ht(r[n-4],r[n-3]),o=lt(r[n-4],r[n-3]),a=r[n-14],s=r[n-13],u=ut(r[n-30],r[n-29]),c=ct(r[n-30],r[n-29]),h=r[n-32],l=r[n-31];r[n]=Fe(i,o,a,s,u,c,h,l),r[n+1]=Je(i,o,a,s,u,c,h,l)}},Qe.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],s=this.h[4],u=this.h[5],c=this.h[6],h=this.h[7],l=this.h[8],d=this.h[9],f=this.h[10],p=this.h[11],g=this.h[12],y=this.h[13],v=this.h[14],m=this.h[15];Le(this.k.length===r.length);for(var b=0;b<r.length;b+=2){var w=v,k=m,I=at(l,d),_=st(l,d),S=et(l,d,f,p,g),E=tt(l,d,f,p,g,y),A=this.k[b],x=this.k[b+1],R=r[b],P=r[b+1],Z=He(w,k,I,_,S,E,A,x,R,P),O=Xe(w,k,I,_,S,E,A,x,R,P);w=it(n,i),k=ot(n,i),I=rt(n,i,o,a,s),_=nt(n,i,o,a,s,u);var T=Ke(w,k,I,_),C=Ge(w,k,I,_);v=g,m=y,g=f,y=p,f=l,p=d,l=Ke(c,h,Z,O),d=Ge(h,h,Z,O),c=s,h=u,s=o,u=a,o=n,a=i,n=Ke(Z,O,T,C),i=Ge(Z,O,T,C)}De(this.h,0,n,i),De(this.h,2,o,a),De(this.h,4,s,u),De(this.h,6,c,h),De(this.h,8,l,d),De(this.h,10,f,p),De(this.h,12,g,y),De(this.h,14,v,m)},Qe.prototype._digest=function(e){return"hex"===e?Be.toHex32(this.h,"big"):Be.split32(this.h,"big")};var dt=L,ft=$e;function pt(){if(!(this instanceof pt))return new pt;ft.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}dt.inherits(pt,ft);var gt=pt;pt.blockSize=1024,pt.outSize=384,pt.hmacStrength=192,pt.padLength=128,pt.prototype._digest=function(e){return"hex"===e?dt.toHex32(this.h.slice(0,12),"big"):dt.split32(this.h.slice(0,12),"big")},Q.sha1=pe,Q.sha224=We,Q.sha256=Oe,Q.sha384=gt,Q.sha512=$e;var yt={},vt=L,mt=H,bt=vt.rotl32,wt=vt.sum32,kt=vt.sum32_3,It=vt.sum32_4,_t=mt.BlockHash;function St(){if(!(this instanceof St))return new St;_t.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function Et(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function At(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function xt(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}vt.inherits(St,_t),yt.ripemd160=St,St.blockSize=512,St.outSize=160,St.hmacStrength=192,St.padLength=64,St.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],a=this.h[4],s=r,u=n,c=i,h=o,l=a,d=0;d<80;d++){var f=wt(bt(It(r,Et(d,n,i,o),e[Rt[d]+t],At(d)),Zt[d]),a);r=a,a=o,o=bt(i,10),i=n,n=f,f=wt(bt(It(s,Et(79-d,u,c,h),e[Pt[d]+t],xt(d)),Ot[d]),l),s=l,l=h,h=bt(c,10),c=u,u=f}f=kt(this.h[1],i,h),this.h[1]=kt(this.h[2],o,l),this.h[2]=kt(this.h[3],a,s),this.h[3]=kt(this.h[4],r,u),this.h[4]=kt(this.h[0],n,c),this.h[0]=f},St.prototype._digest=function(e){return"hex"===e?vt.toHex32(this.h,"little"):vt.split32(this.h,"little")};var Rt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Pt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Zt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Ot=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Tt=L,Ct=z;function Nt(e,t,r){if(!(this instanceof Nt))return new Nt(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(Tt.toArray(t,r))}var Wt=Nt;Nt.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),Ct(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},Nt.prototype.update=function(e,t){return this.inner.update(e,t),this},Nt.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=L,t.common=H,t.sha=Q,t.ripemd=yt,t.hmac=Wt,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(U);var Bt=U,Ut=!1,Lt=!1,zt={debug:1,default:2,info:2,warning:3,error:4,off:5},jt=zt.default,Mt=null;var qt,Dt,Kt=function(){try{var e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((function(t){try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(qt||(qt={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Dt||(Dt={}));var Gt="0123456789abcdef",Ft=function(){function e(t){(0,i.Z)(this,e),Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}return(0,o.Z)(e,[{key:"_log",value:function(e,t){var r=e.toLowerCase();null==zt[r]&&this.throwArgumentError("invalid log level name","logLevel",e),jt>zt[r]||console.log.apply(console,t)}},{key:"debug",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.DEBUG,r)}},{key:"info",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.INFO,r)}},{key:"warn",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.WARNING,r)}},{key:"makeError",value:function(t,r,n){if(Lt)return this.makeError("censored error",r,{});r||(r=e.errors.UNKNOWN_ERROR),n||(n={});var i=[];Object.keys(n).forEach((function(e){var t=n[e];try{if(t instanceof Uint8Array){for(var r="",o=0;o<t.length;o++)r+=Gt[t[o]>>4],r+=Gt[15&t[o]];i.push(e+"=Uint8Array(0x"+r+")")}else i.push(e+"="+JSON.stringify(t))}catch(u){i.push(e+"="+JSON.stringify(n[e].toString()))}})),i.push("code=".concat(r)),i.push("version=".concat(this.version));var o=t,a="";switch(r){case Dt.NUMERIC_FAULT:a="NUMERIC_FAULT";var s=t;switch(s){case"overflow":case"underflow":case"division-by-zero":a+="-"+s;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result"}break;case Dt.CALL_EXCEPTION:case Dt.INSUFFICIENT_FUNDS:case Dt.MISSING_NEW:case Dt.NONCE_EXPIRED:case Dt.REPLACEMENT_UNDERPRICED:case Dt.TRANSACTION_REPLACED:case Dt.UNPREDICTABLE_GAS_LIMIT:a=r}a&&(t+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),i.length&&(t+=" ("+i.join(", ")+")");var u=new Error(t);return u.reason=o,u.code=r,Object.keys(n).forEach((function(e){u[e]=n[e]})),u}},{key:"throwError",value:function(e,t,r){throw this.makeError(e,t,r)}},{key:"throwArgumentError",value:function(t,r,n){return this.throwError(t,e.errors.INVALID_ARGUMENT,{argument:r,value:n})}},{key:"assert",value:function(e,t,r,n){e||this.throwError(t,r,n)}},{key:"assertArgument",value:function(e,t,r,n){e||this.throwArgumentError(t,r,n)}},{key:"checkNormalize",value:function(t){Kt&&this.throwError("platform missing String.prototype.normalize",e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Kt})}},{key:"checkSafeUint53",value:function(t,r){"number"===typeof t&&(null==r&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}},{key:"checkArgumentCount",value:function(t,r,n){n=n?": "+n:"",t<r&&this.throwError("missing argument"+n,e.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+n,e.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}},{key:"checkNew",value:function(t,r){t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})}},{key:"checkAbstract",value:function(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",e.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})}}],[{key:"globalLogger",value:function(){return Mt||(Mt=new e("logger/5.6.0")),Mt}},{key:"setCensorship",value:function(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Ut){if(!t)return;this.globalLogger().throwError("error censorship permanent",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Lt=!!t,Ut=!!r}},{key:"setLogLevel",value:function(t){var r=zt[t.toLowerCase()];null!=r?jt=r:e.globalLogger().warn("invalid log level - "+t)}},{key:"from",value:function(t){return new e(t)}}]),e}();Ft.errors=Dt,Ft.levels=qt;var Jt=new Ft("bytes/5.6.0");function Ht(e){return e.slice||(e.slice=function(){var t=Array.prototype.slice.call(arguments);return Ht(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Xt(e){return"number"===typeof e&&e==e&&e%1===0}function Vt(e,t){if(t||(t={}),"number"===typeof e){Jt.checkSafeUint53(e,"invalid arrayify value");for(var r=[];e;)r.unshift(255&e),e=parseInt(String(e/256));return 0===r.length&&r.push(0),Ht(new Uint8Array(r))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),function(e){return!!e.toHexString}(e)&&(e=e.toHexString()),function(e,t){if("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))return!1;if(t&&e.length!==2+2*t)return!1;return!0}(e)){var n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0x0"+n.substring(2):"right"===t.hexPad?n+="0":Jt.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return Ht(new Uint8Array(i))}return function(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Xt(e.length)||e.length<0)return!1;for(var t=0;t<e.length;t++){var r=e[t];if(!Xt(r)||r<0||r>=256)return!1}return!0}(e)?Ht(new Uint8Array(e)):Jt.throwArgumentError("invalid arrayify value","value",e)}function Yt(e){return"0x"+Bt.sha256().update(Vt(e)).digest("hex")}new Ft("sha2/5.6.0");var Qt=function(){function e(t){(0,i.Z)(this,e),Object.assign(this,t)}return(0,o.Z)(e,[{key:"encode",value:function(){return _.lW.from((0,R.serialize)($t,this))}}],[{key:"decode",value:function(e){return(0,R.deserialize)($t,this,e)}},{key:"decodeUnchecked",value:function(e){return(0,R.deserializeUnchecked)($t,this,e)}}]),e}(),$t=new Map;var er=function(e){(0,u.Z)(r,e);var t=(0,g.Z)(r);function r(e){var n;if((0,i.Z)(this,r),(n=t.call(this,{}))._bn=void 0,function(e){return void 0!==e._bn}(e))n._bn=e._bn;else{if("string"===typeof e){var o=x().decode(e);if(32!=o.length)throw new Error("Invalid public key input");n._bn=new(E())(o)}else n._bn=new(E())(e);if(n._bn.byteLength()>32)throw new Error("Invalid public key input")}return n}return(0,o.Z)(r,[{key:"equals",value:function(e){return this._bn.eq(e._bn)}},{key:"toBase58",value:function(){return x().encode(this.toBytes())}},{key:"toJSON",value:function(){return this.toBase58()}},{key:"toBytes",value:function(){return this.toBuffer()}},{key:"toBuffer",value:function(){var e=this._bn.toArrayLike(_.lW);if(32===e.length)return e;var t=_.lW.alloc(32);return e.copy(t,32-e.length),t}},{key:"toString",value:function(){return this.toBase58()}}],[{key:"createWithSeed",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(t,n,i){var o,a;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=_.lW.concat([t.toBuffer(),_.lW.from(n),i.toBuffer()]),a=Yt(new Uint8Array(o)).slice(2),e.abrupt("return",new r(_.lW.from(a,"hex")));case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"createProgramAddressSync",value:function(e,t){var n=_.lW.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=_.lW.concat([n,B(e)])})),n=_.lW.concat([n,t.toBuffer(),_.lW.from("ProgramDerivedAddress")]);var i=Yt(new Uint8Array(n)).slice(2),o=new(E())(i,16).toArray(void 0,32);if(rr(o))throw new Error("Invalid seeds, address must fall off the curve");return new r(o)}},{key:"createProgramAddress",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(t,r){return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createProgramAddressSync(t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"findProgramAddressSync",value:function(e,t){for(var r,n=255;0!=n;){try{var i=e.concat(_.lW.from([n]));r=this.createProgramAddressSync(i,t)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}},{key:"findProgramAddress",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(t,r){return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.findProgramAddressSync(t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"isOnCurve",value:function(e){return 1==rr(new r(e).toBytes())}}]),r}(Qt);er.default=new er("11111111111111111111111111111111"),$t.set(er,{kind:"struct",fields:[["_bn","u256"]]});var tr=I().lowlevel;function rr(e){var t=[tr.gf(),tr.gf(),tr.gf(),tr.gf()],r=tr.gf(),n=tr.gf(),i=tr.gf(),o=tr.gf(),a=tr.gf(),s=tr.gf(),u=tr.gf();return tr.set25519(t[2],nr),tr.unpack25519(t[1],e),tr.S(i,t[1]),tr.M(o,i,tr.D),tr.Z(i,i,t[2]),tr.A(o,t[2],o),tr.S(a,o),tr.S(s,a),tr.M(u,s,a),tr.M(r,u,i),tr.M(r,r,o),tr.pow2523(r,r),tr.M(r,r,i),tr.M(r,r,o),tr.M(r,r,o),tr.M(t[0],r,o),tr.S(n,t[0]),tr.M(n,n,o),or(n,i)&&tr.M(t[0],t[0],ir),tr.S(n,t[0]),tr.M(n,n,o),or(n,i)?0:1}var nr=tr.gf([1]),ir=tr.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function or(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return tr.pack25519(r,e),tr.pack25519(n,t),tr.crypto_verify_32(r,0,n,0)}var ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return Z.Ik(32,e)},sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",t=Z.n_([Z.Jq("length"),Z.Jq("lengthPadding"),Z.Ik(Z.cv(Z.Jq(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=function(e,t){return r(e,t).chars.toString()},i.encode=function(e,t,r){var i={chars:_.lW.from(e,"utf8")};return n(i,t,r)},i.alloc=function(e){return Z.Jq().span+Z.Jq().span+_.lW.from(e,"utf8").length},i};function ur(e,t){var r=function e(r){if(r.span>=0)return r.span;if("function"===typeof r.alloc)return r.alloc(t[r.property]);if("count"in r&&"elementLayout"in r){var n=t[r.property];if(Array.isArray(n))return n.length*e(r.elementLayout)}return 0},n=0;return e.layout.fields.forEach((function(e){n+=r(e)})),n}var cr,hr=(cr=8,function(e){var t=(0,Z.Ik)(cr,e),r=function(e){return{decode:e.decode.bind(e),encode:e.encode.bind(e)}}(t),n=r.encode,i=r.decode,o=t;return o.decode=function(e,t){var r=i(e,t);return(0,P.oU)(_.lW.from(r))},o.encode=function(e,t,r){var i=(0,P.k$)(e,cr);return n(i,t,r)},o});function lr(e,t){var r=e.layout.span>=0?e.layout.span:ur(e,t),n=_.lW.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}var dr=Z._O("lamportsPerSignature"),fr=Z.n_([Z.Jq("version"),Z.Jq("state"),ar("authorizedPubkey"),ar("nonce"),Z.n_([dr],"feeCalculator")]),pr=fr.span,gr=new er("SysvarC1ock11111111111111111111111111111111"),yr=(new er("SysvarEpochSchedu1e111111111111111111111111"),new er("Sysvar1nstructions1111111111111111111111111"),new er("SysvarRecentB1ockHashes11111111111111111111")),vr=new er("SysvarRent111111111111111111111111111111111"),mr=(new er("SysvarRewards111111111111111111111111111111"),new er("SysvarS1otHashes111111111111111111111111111"),new er("SysvarS1otHistory11111111111111111111111111"),new er("SysvarStakeHistory1111111111111111111111111")),br=1232;function wr(e){for(var t=0,r=0;;){var n=e.shift();if(t|=(127&n)<<7*r,r+=1,0===(128&n))break}return t}function kr(e,t){for(var r=t;;){var n=127&r;if(0==(r>>=7)){e.push(n);break}n|=128,e.push(n)}}var Ir,_r=function(){function e(t){var r=this;(0,i.Z)(this,e),this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((function(e){return new er(e)})),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((function(e){return r.indexToProgramIds.set(e.programIdIndex,r.accountKeys[e.programIdIndex])}))}return(0,o.Z)(e,[{key:"isAccountSigner",value:function(e){return e<this.header.numRequiredSignatures}},{key:"isAccountWritable",value:function(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}},{key:"isProgramId",value:function(e){return this.indexToProgramIds.has(e)}},{key:"programIds",value:function(){return(0,w.Z)(this.indexToProgramIds.values())}},{key:"nonProgramIds",value:function(){var e=this;return this.accountKeys.filter((function(t,r){return!e.isProgramId(r)}))}},{key:"serialize",value:function(){var e=this.accountKeys.length,t=[];kr(t,e);var r=this.instructions.map((function(e){var t=e.accounts,r=e.programIdIndex,n=Array.from(x().decode(e.data)),i=[];kr(i,t.length);var o=[];return kr(o,n.length),{programIdIndex:r,keyIndicesCount:_.lW.from(i),keyIndices:t,dataLength:_.lW.from(o),data:n}})),n=[];kr(n,r.length);var i=_.lW.alloc(br);_.lW.from(n).copy(i);var o=n.length;r.forEach((function(e){var t=Z.n_([Z.u8("programIdIndex"),Z.Ik(e.keyIndicesCount.length,"keyIndicesCount"),Z.A9(Z.u8("keyIndex"),e.keyIndices.length,"keyIndices"),Z.Ik(e.dataLength.length,"dataLength"),Z.A9(Z.u8("userdatum"),e.data.length,"data")]).encode(e,i,o);o+=t})),i=i.slice(0,o);var a=Z.n_([Z.Ik(1,"numRequiredSignatures"),Z.Ik(1,"numReadonlySignedAccounts"),Z.Ik(1,"numReadonlyUnsignedAccounts"),Z.Ik(t.length,"keyCount"),Z.A9(ar("key"),e,"keys"),ar("recentBlockhash")]),s={numRequiredSignatures:_.lW.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:_.lW.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:_.lW.from([this.header.numReadonlyUnsignedAccounts]),keyCount:_.lW.from(t),keys:this.accountKeys.map((function(e){return B(e.toBytes())})),recentBlockhash:x().decode(this.recentBlockhash)},u=_.lW.alloc(2048),c=a.encode(s,u);return i.copy(u,c),u.slice(0,c+i.length)}}],[{key:"from",value:function(t){for(var r=(0,w.Z)(t),n=r.shift(),i=r.shift(),o=r.shift(),a=wr(r),s=[],u=0;u<a;u++){var c=r.slice(0,32);r=r.slice(32),s.push(x().encode(_.lW.from(c)))}for(var h=r.slice(0,32),l=wr(r=r.slice(32)),d=[],f=0;f<l;f++){var p=r.shift(),g=wr(r),y=r.slice(0,g),v=wr(r=r.slice(g)),m=r.slice(0,v),b=x().encode(_.lW.from(m));r=r.slice(v),d.push({programIdIndex:p,accounts:y,data:b})}return new e({header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:x().encode(_.lW.from(h)),accountKeys:s,instructions:d})}}]),e}();function Sr(e,t){if(!e)throw new Error(t||"Assertion failed")}!function(e){e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT"}(Ir||(Ir={}));var Er=_.lW.alloc(64).fill(0),Ar=function(){function e(t){(0,i.Z)(this,e),this.keys=void 0,this.programId=void 0,this.data=_.lW.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}return(0,o.Z)(e,[{key:"toJSON",value:function(){return{keys:this.keys.map((function(e){var t=e.pubkey,r=e.isSigner,n=e.isWritable;return{pubkey:t.toJSON(),isSigner:r,isWritable:n}})),programId:this.programId.toJSON(),data:(0,w.Z)(this.data)}}}]),e}(),xr=function(){function e(t){if((0,i.Z)(this,e),this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){var r=t.blockhash,n=t.lastValidBlockHeight;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{var o=t.recentBlockhash,a=t.nonceInfo;a&&(this.nonceInfo=a),this.recentBlockhash=o}}return(0,o.Z)(e,[{key:"signature",get:function(){return this.signatures.length>0?this.signatures[0].signature:null}},{key:"toJSON",value:function(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((function(e){return e.toJSON()})),signers:this.signatures.map((function(e){return e.publicKey.toJSON()}))}}},{key:"add",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(0===r.length)throw new Error("No instructions");return r.forEach((function(t){"instructions"in t?e.instructions=e.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?e.instructions.push(t):e.instructions.push(new Ar(t))})),this}},{key:"compileMessage",value:function(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;var e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction].concat((0,w.Z)(this.instructions)):this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(var n=0;n<t.length;n++)if(void 0===t[n].programId)throw new Error("Transaction instruction index ".concat(n," has undefined program id"));var i=[],o=[];t.forEach((function(e){e.keys.forEach((function(e){o.push((0,b.Z)({},e))}));var t=e.programId.toString();i.includes(t)||i.push(t)})),i.forEach((function(e){o.push({pubkey:new er(e),isSigner:!1,isWritable:!1})}));var a=[];o.forEach((function(e){var t=e.pubkey.toString(),r=a.findIndex((function(e){return e.pubkey.toString()===t}));r>-1?(a[r].isWritable=a[r].isWritable||e.isWritable,a[r].isSigner=a[r].isSigner||e.isSigner):a.push(e)})),a.sort((function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())}));var s=a.findIndex((function(e){return e.pubkey.equals(r)}));if(s>-1){var u=a.splice(s,1),c=(0,m.Z)(u,1)[0];c.isSigner=!0,c.isWritable=!0,a.unshift(c)}else a.unshift({pubkey:r,isSigner:!0,isWritable:!0});var h,l=(0,p.Z)(this.signatures);try{var d=function(){var e=h.value,t=a.findIndex((function(t){return t.pubkey.equals(e.publicKey)}));if(!(t>-1))throw new Error("unknown signer: ".concat(e.publicKey.toString()));a[t].isSigner||(a[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))};for(l.s();!(h=l.n()).done;)d()}catch(S){l.e(S)}finally{l.f()}var f=0,g=0,y=0,v=[],k=[];a.forEach((function(e){var t=e.pubkey,r=e.isSigner,n=e.isWritable;r?(v.push(t.toString()),f+=1,n||(g+=1)):(k.push(t.toString()),n||(y+=1))}));var I=v.concat(k),_=t.map((function(e){var t=e.data,r=e.programId;return{programIdIndex:I.indexOf(r.toString()),accounts:e.keys.map((function(e){return I.indexOf(e.pubkey.toString())})),data:x().encode(t)}}));return _.forEach((function(e){Sr(e.programIdIndex>=0),e.accounts.forEach((function(e){return Sr(e>=0)}))})),new _r({header:{numRequiredSignatures:f,numReadonlySignedAccounts:g,numReadonlyUnsignedAccounts:y},accountKeys:I,recentBlockhash:e,instructions:_})}},{key:"_compile",value:function(){var e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length&&this.signatures.every((function(e,r){return t[r].equals(e.publicKey)})))return e;return this.signatures=t.map((function(e){return{signature:null,publicKey:e}})),e}},{key:"serializeMessage",value:function(){return this._compile().serialize()}},{key:"getEstimatedFee",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(t){return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getFeeForMessage(this.compileMessage());case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setSigners",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");var n=new Set;this.signatures=t.filter((function(e){var t=e.toString();return!n.has(t)&&(n.add(t),!0)})).map((function(e){return{signature:null,publicKey:e}}))}},{key:"sign",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");for(var n=new Set,i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.publicKey.toString();n.has(u)||(n.add(u),i.push(s))}this.signatures=i.map((function(e){return{signature:null,publicKey:e.publicKey}}));var c=this._compile();this._partialSign.apply(this,[c].concat(i))}},{key:"partialSign",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");for(var n=new Set,i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.publicKey.toString();n.has(u)||(n.add(u),i.push(s))}var c=this._compile();this._partialSign.apply(this,[c].concat(i))}},{key:"_partialSign",value:function(e){for(var t=this,r=e.serialize(),n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];i.forEach((function(e){var n=I().sign.detached(r,e.secretKey);t._addSignature(e.publicKey,B(n))}))}},{key:"addSignature",value:function(e,t){this._compile(),this._addSignature(e,t)}},{key:"_addSignature",value:function(e,t){Sr(64===t.length);var r=this.signatures.findIndex((function(t){return e.equals(t.publicKey)}));if(r<0)throw new Error("unknown signer: ".concat(e.toString()));this.signatures[r].signature=_.lW.from(t)}},{key:"verifySignatures",value:function(){return this._verifySignatures(this.serializeMessage(),!0)}},{key:"_verifySignatures",value:function(e,t){var r,n=(0,p.Z)(this.signatures);try{for(n.s();!(r=n.n()).done;){var i=r.value,o=i.signature,a=i.publicKey;if(null===o){if(t)return!1}else if(!I().sign.detached.verify(e,o,a.toBuffer()))return!1}}catch(s){n.e(s)}finally{n.f()}return!0}},{key:"serialize",value:function(e){var t=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=t.requireAllSignatures,n=t.verifySignatures,i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}},{key:"_serialize",value:function(e){var t=this.signatures,r=[];kr(r,t.length);var n=r.length+64*t.length+e.length,i=_.lW.alloc(n);return Sr(t.length<256),_.lW.from(r).copy(i,0),t.forEach((function(e,t){var n=e.signature;null!==n&&(Sr(64===n.length,"signature has invalid length"),_.lW.from(n).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),Sr(i.length<=br,"Transaction too large: ".concat(i.length," > ").concat(br)),i}},{key:"keys",get:function(){return Sr(1===this.instructions.length),this.instructions[0].keys.map((function(e){return e.pubkey}))}},{key:"programId",get:function(){return Sr(1===this.instructions.length),this.instructions[0].programId}},{key:"data",get:function(){return Sr(1===this.instructions.length),this.instructions[0].data}}],[{key:"from",value:function(t){for(var r=(0,w.Z)(t),n=wr(r),i=[],o=0;o<n;o++){var a=r.slice(0,64);r=r.slice(64),i.push(x().encode(_.lW.from(a)))}return e.populate(_r.from(r),i)}},{key:"populate",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new e;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),r.forEach((function(e,r){var i={signature:e==x().encode(Er)?null:x().decode(e),publicKey:t.accountKeys[r]};n.signatures.push(i)})),t.instructions.forEach((function(e){var r=e.accounts.map((function(e){var r=t.accountKeys[e];return{pubkey:r,isSigner:n.signatures.some((function(e){return e.publicKey.toString()===r.toString()}))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));n.instructions.push(new Ar({keys:r,programId:t.accountKeys[e.programIdIndex],data:x().decode(e.data)}))})),n._message=t,n._json=n.toJSON(),n}}]),e}(),Rr=Object.freeze({Create:{index:0,layout:Z.n_([Z.Jq("instruction"),Z.gM("lamports"),Z.gM("space"),ar("programId")])},Assign:{index:1,layout:Z.n_([Z.Jq("instruction"),ar("programId")])},Transfer:{index:2,layout:Z.n_([Z.Jq("instruction"),hr("lamports")])},CreateWithSeed:{index:3,layout:Z.n_([Z.Jq("instruction"),ar("base"),sr("seed"),Z.gM("lamports"),Z.gM("space"),ar("programId")])},AdvanceNonceAccount:{index:4,layout:Z.n_([Z.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:Z.n_([Z.Jq("instruction"),Z.gM("lamports")])},InitializeNonceAccount:{index:6,layout:Z.n_([Z.Jq("instruction"),ar("authorized")])},AuthorizeNonceAccount:{index:7,layout:Z.n_([Z.Jq("instruction"),ar("authorized")])},Allocate:{index:8,layout:Z.n_([Z.Jq("instruction"),Z.gM("space")])},AllocateWithSeed:{index:9,layout:Z.n_([Z.Jq("instruction"),ar("base"),sr("seed"),Z.gM("space"),ar("programId")])},AssignWithSeed:{index:10,layout:Z.n_([Z.Jq("instruction"),ar("base"),sr("seed"),ar("programId")])},TransferWithSeed:{index:11,layout:Z.n_([Z.Jq("instruction"),hr("lamports"),sr("seed"),ar("programId")])},UpgradeNonceAccount:{index:12,layout:Z.n_([Z.Jq("instruction")])}}),Pr=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"createAccount",value:function(e){var t=lr(Rr.Create,{lamports:e.lamports,space:e.space,programId:B(e.programId.toBuffer())});return new Ar({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}},{key:"transfer",value:function(e){var t,r;"basePubkey"in e?(t=lr(Rr.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:B(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]):(t=lr(Rr.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]);return new Ar({keys:r,programId:this.programId,data:t})}},{key:"assign",value:function(e){var t,r;"basePubkey"in e?(t=lr(Rr.AssignWithSeed,{base:B(e.basePubkey.toBuffer()),seed:e.seed,programId:B(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=lr(Rr.Assign,{programId:B(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]);return new Ar({keys:r,programId:this.programId,data:t})}},{key:"createAccountWithSeed",value:function(e){var t=lr(Rr.CreateWithSeed,{base:B(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:B(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ar({keys:r,programId:this.programId,data:t})}},{key:"createNonceAccount",value:function(t){var r=new xr;"basePubkey"in t&&"seed"in t?r.add(e.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:pr,programId:this.programId})):r.add(e.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:pr,programId:this.programId}));var n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}},{key:"nonceInitialize",value:function(e){var t=lr(Rr.InitializeNonceAccount,{authorized:B(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:yr,isSigner:!1,isWritable:!1},{pubkey:vr,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new Ar(r)}},{key:"nonceAdvance",value:function(e){var t=lr(Rr.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:yr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new Ar(r)}},{key:"nonceWithdraw",value:function(e){var t=lr(Rr.WithdrawNonceAccount,{lamports:e.lamports});return new Ar({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:yr,isSigner:!1,isWritable:!1},{pubkey:vr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}},{key:"nonceAuthorize",value:function(e){var t=lr(Rr.AuthorizeNonceAccount,{authorized:B(e.newAuthorizedPubkey.toBuffer())});return new Ar({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}},{key:"allocate",value:function(e){var t,r;"basePubkey"in e?(t=lr(Rr.AllocateWithSeed,{base:B(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:B(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=lr(Rr.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]);return new Ar({keys:r,programId:this.programId,data:t})}}]),e}();Pr.programId=new er("11111111111111111111111111111111");var Zr=Object.freeze({CreateLookupTable:{index:0,layout:Z.n_([Z.Jq("instruction"),hr("recentSlot"),Z.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Z.n_([Z.Jq("instruction")])},ExtendLookupTable:{index:2,layout:Z.n_([Z.Jq("instruction"),hr(),Z.A9(ar(),Z.cv(Z.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Z.n_([Z.Jq("instruction")])},CloseLookupTable:{index:4,layout:Z.n_([Z.Jq("instruction")])}}),Or=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"createLookupTable",value:function(e){var t=er.findProgramAddressSync([e.authority.toBuffer(),(0,P.k$)(BigInt(e.recentSlot),8)],this.programId),r=(0,m.Z)(t,2),n=r[0],i=r[1],o=lr(Zr.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:i}),a=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Pr.programId,isSigner:!1,isWritable:!1}];return[new Ar({programId:this.programId,keys:a,data:o}),n]}},{key:"freezeLookupTable",value:function(e){var t=lr(Zr.FreezeLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ar({programId:this.programId,keys:r,data:t})}},{key:"extendLookupTable",value:function(e){var t=lr(Zr.ExtendLookupTable,{addresses:e.addresses.map((function(e){return e.toBytes()}))}),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&r.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Pr.programId,isSigner:!1,isWritable:!1}),new Ar({programId:this.programId,keys:r,data:t})}},{key:"deactivateLookupTable",value:function(e){var t=lr(Zr.DeactivateLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ar({programId:this.programId,keys:r,data:t})}},{key:"closeLookupTable",value:function(e){var t=lr(Zr.CloseLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Ar({programId:this.programId,keys:r,data:t})}}]),e}();Or.programId=new er("AddressLookupTab1e1111111111111111111111111");new er("BPFLoader1111111111111111111111111111111111");function Tr(e,t,r,n){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,n.Z)((0,y.Z)().mark((function e(t,r,n,i){var o,a,s;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},e.next=3,t.sendTransaction(r,n,o);case 3:if(a=e.sent,null==r.recentBlockhash||null==r.lastValidBlockHeight){e.next=10;break}return e.next=7,t.confirmTransaction({signature:a,blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight},i&&i.commitment);case 7:e.t0=e.sent.value,e.next=13;break;case 10:return e.next=12,t.confirmTransaction(a,i&&i.commitment);case 12:e.t0=e.sent.value;case 13:if(!(s=e.t0).err){e.next=16;break}throw new Error("Transaction ".concat(a," failed (").concat(JSON.stringify(s),")"));case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nr(e){return new Promise((function(t){return setTimeout(t,e)}))}var Wr=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"getMinNumSignatures",value:function(t){return 2*(Math.ceil(t/e.chunkSize)+1+1)}},{key:"load",value:function(){var t=(0,n.Z)((0,y.Z)().mark((function t(r,n,i,o,a){var s,u,c,h,l,d,f,p,g,v,m,b,w,k;return(0,y.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getMinimumBalanceForRentExemption(a.length);case 2:return s=t.sent,t.next=5,r.getAccountInfo(i.publicKey,"confirmed");case 5:if(u=t.sent,c=null,null===u){t.next=16;break}if(!u.executable){t.next=11;break}return console.error("Program load failed, account is already executable"),t.abrupt("return",!1);case 11:u.data.length!==a.length&&(c=c||new xr).add(Pr.allocate({accountPubkey:i.publicKey,space:a.length})),u.owner.equals(o)||(c=c||new xr).add(Pr.assign({accountPubkey:i.publicKey,programId:o})),u.lamports<s&&(c=c||new xr).add(Pr.transfer({fromPubkey:n.publicKey,toPubkey:i.publicKey,lamports:s-u.lamports})),t.next=17;break;case 16:c=(new xr).add(Pr.createAccount({fromPubkey:n.publicKey,newAccountPubkey:i.publicKey,lamports:s>0?s:1,space:a.length,programId:o}));case 17:if(null===c){t.next=20;break}return t.next=20,Tr(r,c,[n,i],{commitment:"confirmed"});case 20:h=Z.n_([Z.Jq("instruction"),Z.Jq("offset"),Z.Jq("bytesLength"),Z.Jq("bytesLengthPadding"),Z.A9(Z.u8("byte"),Z.cv(Z.Jq(),-8),"bytes")]),l=e.chunkSize,d=0,f=a,p=[];case 25:if(!(f.length>0)){t.next=39;break}if(g=f.slice(0,l),v=_.lW.alloc(l+16),h.encode({instruction:0,offset:d,bytes:g,bytesLength:0,bytesLengthPadding:0},v),m=(new xr).add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:v}),p.push(Tr(r,m,[n,i],{commitment:"confirmed"})),!r._rpcEndpoint.includes("solana.com")){t.next=35;break}return 4,t.next=35,Nr(250);case 35:d+=l,f=f.slice(l),t.next=25;break;case 39:return t.next=41,Promise.all(p);case 41:return b=Z.n_([Z.Jq("instruction")]),w=_.lW.alloc(b.span),b.encode({instruction:1},w),k=(new xr).add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:vr,isSigner:!1,isWritable:!1}],programId:o,data:w}),t.next=47,Tr(r,k,[n,i],{commitment:"confirmed"});case 47:return t.abrupt("return",!0);case 48:case"end":return t.stop()}}),t)})));return function(e,r,n,i,o){return t.apply(this,arguments)}}()}]),e}();Wr.chunkSize=932;new er("BPFLoader2111111111111111111111111111111111");var Br=Object.freeze({RequestUnits:{index:0,layout:Z.n_([Z.u8("instruction"),Z.Jq("units"),Z.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:Z.n_([Z.u8("instruction"),Z.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:Z.n_([Z.u8("instruction"),Z.Jq("units")])},SetComputeUnitPrice:{index:3,layout:Z.n_([Z.u8("instruction"),hr("microLamports")])}}),Ur=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"requestUnits",value:function(e){var t=lr(Br.RequestUnits,e);return new Ar({keys:[],programId:this.programId,data:t})}},{key:"requestHeapFrame",value:function(e){var t=lr(Br.RequestHeapFrame,e);return new Ar({keys:[],programId:this.programId,data:t})}},{key:"setComputeUnitLimit",value:function(e){var t=lr(Br.SetComputeUnitLimit,e);return new Ar({keys:[],programId:this.programId,data:t})}},{key:"setComputeUnitPrice",value:function(e){var t=lr(Br.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new Ar({keys:[],programId:this.programId,data:t})}}]),e}();Ur.programId=new er("ComputeBudget111111111111111111111111111111");Object.prototype.toString,Object.keys;globalThis.URL;Error,Error,globalThis.fetch;var Lr=function(e){(0,u.Z)(r,e);var t=(0,g.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,"Signature ".concat(e," has expired: block height exceeded."))).signature=void 0,n.signature=e,n}return(0,o.Z)(r)}((0,v.Z)(Error));Object.defineProperty(Lr.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var zr,jr=function(e){(0,u.Z)(r,e);var t=(0,g.Z)(r);function r(e,n){var o;return(0,i.Z)(this,r),(o=t.call(this,"Transaction was not confirmed in ".concat(n.toFixed(2)," seconds. It is ")+"unknown if it succeeded or failed. Check signature "+"".concat(e," using the Solana Explorer or CLI tools."))).signature=void 0,o.signature=e,o}return(0,o.Z)(r)}((0,v.Z)(Error));Object.defineProperty(jr.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Mr=(0,O.oQ)((0,O.eE)(er),(0,O.Z_)(),(function(e){return new er(e)})),qr=(0,O.bc)([(0,O.Z_)(),(0,O.i0)("base64")]),Dr=(0,O.oQ)((0,O.eE)(_.lW),qr,(function(e){return _.lW.from(e[0],"base64")}));function Kr(e){return(0,O.G0)([(0,O.dt)({jsonrpc:(0,O.i0)("2.0"),id:(0,O.Z_)(),result:e}),(0,O.dt)({jsonrpc:(0,O.i0)("2.0"),id:(0,O.Z_)(),error:(0,O.dt)({code:(0,O._4)(),message:(0,O.Z_)(),data:(0,O.jt)((0,O.Yj)())})})])}var Gr=Kr((0,O._4)());function Fr(e){return(0,O.oQ)(Kr(e),Gr,(function(t){return"error"in t?t:(0,b.Z)((0,b.Z)({},t),{},{result:(0,O.Ue)(t.result,e)})}))}function Jr(e){return Fr((0,O.dt)({context:(0,O.dt)({slot:(0,O.Rx)()}),value:e}))}function Hr(e){return(0,O.dt)({context:(0,O.dt)({slot:(0,O.Rx)()}),value:e})}var Xr=(0,O.dt)({foundation:(0,O.Rx)(),foundationTerm:(0,O.Rx)(),initial:(0,O.Rx)(),taper:(0,O.Rx)(),terminal:(0,O.Rx)()}),Vr=(Fr((0,O.IX)((0,O.AG)((0,O.dt)({epoch:(0,O.Rx)(),effectiveSlot:(0,O.Rx)(),amount:(0,O.Rx)(),postBalance:(0,O.Rx)()})))),(0,O.dt)({epoch:(0,O.Rx)(),slotIndex:(0,O.Rx)(),slotsInEpoch:(0,O.Rx)(),absoluteSlot:(0,O.Rx)(),blockHeight:(0,O.jt)((0,O.Rx)()),transactionCount:(0,O.jt)((0,O.Rx)())})),Yr=(0,O.dt)({slotsPerEpoch:(0,O.Rx)(),leaderScheduleSlotOffset:(0,O.Rx)(),warmup:(0,O.O7)(),firstNormalEpoch:(0,O.Rx)(),firstNormalSlot:(0,O.Rx)()}),Qr=(0,O.IM)((0,O.Z_)(),(0,O.IX)((0,O.Rx)())),$r=(0,O.AG)((0,O.G0)([(0,O.dt)({}),(0,O.Z_)()])),en=(0,O.dt)({err:$r}),tn=(0,O.i0)("receivedSignature");(0,O.dt)({"solana-core":(0,O.Z_)(),"feature-set":(0,O.jt)((0,O.Rx)())}),Jr((0,O.dt)({err:(0,O.AG)((0,O.G0)([(0,O.dt)({}),(0,O.Z_)()])),logs:(0,O.AG)((0,O.IX)((0,O.Z_)())),accounts:(0,O.jt)((0,O.AG)((0,O.IX)((0,O.AG)((0,O.dt)({executable:(0,O.O7)(),owner:(0,O.Z_)(),lamports:(0,O.Rx)(),data:(0,O.IX)((0,O.Z_)()),rentEpoch:(0,O.jt)((0,O.Rx)())}))))),unitsConsumed:(0,O.jt)((0,O.Rx)()),returnData:(0,O.jt)((0,O.AG)((0,O.dt)({programId:(0,O.Z_)(),data:(0,O.bc)([(0,O.Z_)(),(0,O.i0)("base64")])})))})),Jr((0,O.dt)({byIdentity:(0,O.IM)((0,O.Z_)(),(0,O.IX)((0,O.Rx)())),range:(0,O.dt)({firstSlot:(0,O.Rx)(),lastSlot:(0,O.Rx)()})}));Fr(Xr),Fr(Vr),Fr(Yr),Fr(Qr),Fr((0,O.Rx)()),Jr((0,O.dt)({total:(0,O.Rx)(),circulating:(0,O.Rx)(),nonCirculating:(0,O.Rx)(),nonCirculatingAccounts:(0,O.IX)(Mr)}));var rn=(0,O.dt)({amount:(0,O.Z_)(),uiAmount:(0,O.AG)((0,O.Rx)()),decimals:(0,O.Rx)(),uiAmountString:(0,O.jt)((0,O.Z_)())}),nn=(Jr((0,O.IX)((0,O.dt)({address:Mr,amount:(0,O.Z_)(),uiAmount:(0,O.AG)((0,O.Rx)()),decimals:(0,O.Rx)(),uiAmountString:(0,O.jt)((0,O.Z_)())}))),Jr((0,O.IX)((0,O.dt)({pubkey:Mr,account:(0,O.dt)({executable:(0,O.O7)(),owner:Mr,lamports:(0,O.Rx)(),data:Dr,rentEpoch:(0,O.Rx)()})}))),(0,O.dt)({program:(0,O.Z_)(),parsed:(0,O._4)(),space:(0,O.Rx)()})),on=(Jr((0,O.IX)((0,O.dt)({pubkey:Mr,account:(0,O.dt)({executable:(0,O.O7)(),owner:Mr,lamports:(0,O.Rx)(),data:nn,rentEpoch:(0,O.Rx)()})}))),Jr((0,O.IX)((0,O.dt)({lamports:(0,O.Rx)(),address:Mr}))),(0,O.dt)({executable:(0,O.O7)(),owner:Mr,lamports:(0,O.Rx)(),data:Dr,rentEpoch:(0,O.Rx)()})),an=((0,O.dt)({pubkey:Mr,account:on}),(0,O.oQ)((0,O.G0)([(0,O.eE)(_.lW),nn]),(0,O.G0)([qr,nn]),(function(e){return Array.isArray(e)?(0,O.Ue)(e,Dr):e}))),sn=(0,O.dt)({executable:(0,O.O7)(),owner:Mr,lamports:(0,O.Rx)(),data:an,rentEpoch:(0,O.Rx)()}),un=((0,O.dt)({pubkey:Mr,account:sn}),(0,O.dt)({state:(0,O.G0)([(0,O.i0)("active"),(0,O.i0)("inactive"),(0,O.i0)("activating"),(0,O.i0)("deactivating")]),active:(0,O.Rx)(),inactive:(0,O.Rx)()}),Fr((0,O.IX)((0,O.dt)({signature:(0,O.Z_)(),slot:(0,O.Rx)(),err:$r,memo:(0,O.AG)((0,O.Z_)()),blockTime:(0,O.jt)((0,O.AG)((0,O.Rx)()))}))),Fr((0,O.IX)((0,O.dt)({signature:(0,O.Z_)(),slot:(0,O.Rx)(),err:$r,memo:(0,O.AG)((0,O.Z_)()),blockTime:(0,O.jt)((0,O.AG)((0,O.Rx)()))}))),(0,O.dt)({subscription:(0,O.Rx)(),result:Hr(on)}),(0,O.dt)({pubkey:Mr,account:on})),cn=((0,O.dt)({subscription:(0,O.Rx)(),result:Hr(un)}),(0,O.dt)({parent:(0,O.Rx)(),slot:(0,O.Rx)(),root:(0,O.Rx)()})),hn=((0,O.dt)({subscription:(0,O.Rx)(),result:cn}),(0,O.G0)([(0,O.dt)({type:(0,O.G0)([(0,O.i0)("firstShredReceived"),(0,O.i0)("completed"),(0,O.i0)("optimisticConfirmation"),(0,O.i0)("root")]),slot:(0,O.Rx)(),timestamp:(0,O.Rx)()}),(0,O.dt)({type:(0,O.i0)("createdBank"),parent:(0,O.Rx)(),slot:(0,O.Rx)(),timestamp:(0,O.Rx)()}),(0,O.dt)({type:(0,O.i0)("frozen"),slot:(0,O.Rx)(),timestamp:(0,O.Rx)(),stats:(0,O.dt)({numTransactionEntries:(0,O.Rx)(),numSuccessfulTransactions:(0,O.Rx)(),numFailedTransactions:(0,O.Rx)(),maxTransactionsPerEntry:(0,O.Rx)()})}),(0,O.dt)({type:(0,O.i0)("dead"),slot:(0,O.Rx)(),timestamp:(0,O.Rx)(),err:(0,O.Z_)()})])),ln=((0,O.dt)({subscription:(0,O.Rx)(),result:hn}),(0,O.dt)({subscription:(0,O.Rx)(),result:Hr((0,O.G0)([en,tn]))}),(0,O.dt)({subscription:(0,O.Rx)(),result:(0,O.Rx)()}),(0,O.dt)({pubkey:(0,O.Z_)(),gossip:(0,O.AG)((0,O.Z_)()),tpu:(0,O.AG)((0,O.Z_)()),rpc:(0,O.AG)((0,O.Z_)()),version:(0,O.AG)((0,O.Z_)())}),(0,O.dt)({votePubkey:(0,O.Z_)(),nodePubkey:(0,O.Z_)(),activatedStake:(0,O.Rx)(),epochVoteAccount:(0,O.O7)(),epochCredits:(0,O.IX)((0,O.bc)([(0,O.Rx)(),(0,O.Rx)(),(0,O.Rx)()])),commission:(0,O.Rx)(),lastVote:(0,O.Rx)(),rootSlot:(0,O.AG)((0,O.Rx)())})),dn=(Fr((0,O.dt)({current:(0,O.IX)(ln),delinquent:(0,O.IX)(ln)})),(0,O.G0)([(0,O.i0)("processed"),(0,O.i0)("confirmed"),(0,O.i0)("finalized")])),fn=(0,O.dt)({slot:(0,O.Rx)(),confirmations:(0,O.AG)((0,O.Rx)()),err:$r,confirmationStatus:(0,O.jt)(dn)}),pn=(Jr((0,O.IX)((0,O.AG)(fn))),Fr((0,O.Rx)()),(0,O.dt)({signatures:(0,O.IX)((0,O.Z_)()),message:(0,O.dt)({accountKeys:(0,O.IX)((0,O.Z_)()),header:(0,O.dt)({numRequiredSignatures:(0,O.Rx)(),numReadonlySignedAccounts:(0,O.Rx)(),numReadonlyUnsignedAccounts:(0,O.Rx)()}),instructions:(0,O.IX)((0,O.dt)({accounts:(0,O.IX)((0,O.Rx)()),data:(0,O.Z_)(),programIdIndex:(0,O.Rx)()})),recentBlockhash:(0,O.Z_)()})})),gn=(0,O.dt)({parsed:(0,O._4)(),program:(0,O.Z_)(),programId:Mr}),yn=(0,O.dt)({accounts:(0,O.IX)(Mr),data:(0,O.Z_)(),programId:Mr}),vn=(0,O.G0)([yn,gn]),mn=(0,O.G0)([(0,O.dt)({parsed:(0,O._4)(),program:(0,O.Z_)(),programId:(0,O.Z_)()}),(0,O.dt)({accounts:(0,O.IX)((0,O.Z_)()),data:(0,O.Z_)(),programId:(0,O.Z_)()})]),bn=(0,O.oQ)(vn,mn,(function(e){return"accounts"in e?(0,O.Ue)(e,yn):(0,O.Ue)(e,gn)})),wn=(0,O.dt)({signatures:(0,O.IX)((0,O.Z_)()),message:(0,O.dt)({accountKeys:(0,O.IX)((0,O.dt)({pubkey:Mr,signer:(0,O.O7)(),writable:(0,O.O7)()})),instructions:(0,O.IX)(bn),recentBlockhash:(0,O.Z_)()})}),kn=(0,O.dt)({accountIndex:(0,O.Rx)(),mint:(0,O.Z_)(),owner:(0,O.jt)((0,O.Z_)()),uiTokenAmount:rn}),In=(0,O.dt)({writable:(0,O.IX)(Mr),readonly:(0,O.IX)(Mr)}),_n=(0,O.dt)({err:$r,fee:(0,O.Rx)(),innerInstructions:(0,O.jt)((0,O.AG)((0,O.IX)((0,O.dt)({index:(0,O.Rx)(),instructions:(0,O.IX)((0,O.dt)({accounts:(0,O.IX)((0,O.Rx)()),data:(0,O.Z_)(),programIdIndex:(0,O.Rx)()}))})))),preBalances:(0,O.IX)((0,O.Rx)()),postBalances:(0,O.IX)((0,O.Rx)()),logMessages:(0,O.jt)((0,O.AG)((0,O.IX)((0,O.Z_)()))),preTokenBalances:(0,O.jt)((0,O.AG)((0,O.IX)(kn))),postTokenBalances:(0,O.jt)((0,O.AG)((0,O.IX)(kn))),loadedAddresses:(0,O.jt)(In)}),Sn=(0,O.dt)({err:$r,fee:(0,O.Rx)(),innerInstructions:(0,O.jt)((0,O.AG)((0,O.IX)((0,O.dt)({index:(0,O.Rx)(),instructions:(0,O.IX)(bn)})))),preBalances:(0,O.IX)((0,O.Rx)()),postBalances:(0,O.IX)((0,O.Rx)()),logMessages:(0,O.jt)((0,O.AG)((0,O.IX)((0,O.Z_)()))),preTokenBalances:(0,O.jt)((0,O.AG)((0,O.IX)(kn))),postTokenBalances:(0,O.jt)((0,O.AG)((0,O.IX)(kn))),loadedAddresses:(0,O.jt)(In)}),En=(Fr((0,O.AG)((0,O.dt)({blockhash:(0,O.Z_)(),previousBlockhash:(0,O.Z_)(),parentSlot:(0,O.Rx)(),transactions:(0,O.IX)((0,O.dt)({transaction:pn,meta:(0,O.AG)(_n)})),rewards:(0,O.jt)((0,O.IX)((0,O.dt)({pubkey:(0,O.Z_)(),lamports:(0,O.Rx)(),postBalance:(0,O.AG)((0,O.Rx)()),rewardType:(0,O.AG)((0,O.Z_)())}))),blockTime:(0,O.AG)((0,O.Rx)()),blockHeight:(0,O.AG)((0,O.Rx)())}))),Fr((0,O.AG)((0,O.dt)({blockhash:(0,O.Z_)(),previousBlockhash:(0,O.Z_)(),parentSlot:(0,O.Rx)(),transactions:(0,O.IX)((0,O.dt)({transaction:pn,meta:(0,O.AG)(_n)})),rewards:(0,O.jt)((0,O.IX)((0,O.dt)({pubkey:(0,O.Z_)(),lamports:(0,O.Rx)(),postBalance:(0,O.AG)((0,O.Rx)()),rewardType:(0,O.AG)((0,O.Z_)())}))),blockTime:(0,O.AG)((0,O.Rx)())}))),Fr((0,O.AG)((0,O.dt)({blockhash:(0,O.Z_)(),previousBlockhash:(0,O.Z_)(),parentSlot:(0,O.Rx)(),signatures:(0,O.IX)((0,O.Z_)()),blockTime:(0,O.AG)((0,O.Rx)())}))),Fr((0,O.AG)((0,O.dt)({slot:(0,O.Rx)(),meta:_n,blockTime:(0,O.jt)((0,O.AG)((0,O.Rx)())),transaction:pn}))),Fr((0,O.AG)((0,O.dt)({slot:(0,O.Rx)(),transaction:wn,meta:(0,O.AG)(Sn),blockTime:(0,O.jt)((0,O.AG)((0,O.Rx)()))}))),Jr((0,O.dt)({blockhash:(0,O.Z_)(),feeCalculator:(0,O.dt)({lamportsPerSignature:(0,O.Rx)()})})),Jr((0,O.dt)({blockhash:(0,O.Z_)(),lastValidBlockHeight:(0,O.Rx)()})),(0,O.dt)({slot:(0,O.Rx)(),numTransactions:(0,O.Rx)(),numSlots:(0,O.Rx)(),samplePeriodSecs:(0,O.Rx)()})),An=(Fr((0,O.IX)(En)),Jr((0,O.AG)((0,O.dt)({feeCalculator:(0,O.dt)({lamportsPerSignature:(0,O.Rx)()})}))),Fr((0,O.Z_)()),Fr((0,O.Z_)()),(0,O.dt)({err:$r,logs:(0,O.IX)((0,O.Z_)()),signature:(0,O.Z_)()})),xn=((0,O.dt)({result:Hr(An),subscription:(0,O.Rx)()}),"js/".concat(null!==(zr="0.0.0-development")?zr:"UNKNOWN"),function(){function e(t){(0,i.Z)(this,e),this._keypair=void 0,this._keypair=t||I().sign.keyPair()}return(0,o.Z)(e,[{key:"publicKey",get:function(){return new er(this._keypair.publicKey)}},{key:"secretKey",get:function(){return this._keypair.secretKey}}],[{key:"generate",value:function(){return new e(I().sign.keyPair())}},{key:"fromSecretKey",value:function(t,r){var n=I().sign.keyPair.fromSecretKey(t);if(!r||!r.skipValidation){var i=(new TextEncoder).encode("@solana/web3.js-validation-v1"),o=I().sign.detached(i,n.secretKey);if(!I().sign.detached.verify(i,o,n.publicKey))throw new Error("provided secretKey is invalid")}return new e(n)}},{key:"fromSeed",value:function(t){return new e(I().sign.keyPair.fromSeed(t))}}]),e}()),Rn=Z.n_([Z.u8("numSignatures"),Z.u8("padding"),Z.KB("signatureOffset"),Z.KB("signatureInstructionIndex"),Z.KB("publicKeyOffset"),Z.KB("publicKeyInstructionIndex"),Z.KB("messageDataOffset"),Z.KB("messageDataSize"),Z.KB("messageInstructionIndex")]),Pn=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"createInstructionWithPublicKey",value:function(t){var r=t.publicKey,n=t.message,i=t.signature,o=t.instructionIndex;Sr(32===r.length,"Public Key must be ".concat(32," bytes but received ").concat(r.length," bytes")),Sr(64===i.length,"Signature must be ".concat(64," bytes but received ").concat(i.length," bytes"));var a=Rn.span,s=a+r.length,u=s+i.length,c=_.lW.alloc(u+n.length),h=null==o?65535:o;return Rn.encode({numSignatures:1,padding:0,signatureOffset:s,signatureInstructionIndex:h,publicKeyOffset:a,publicKeyInstructionIndex:h,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:h},c),c.fill(r,a),c.fill(i,s),c.fill(n,u),new Ar({keys:[],programId:e.programId,data:c})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,r=e.message,n=e.instructionIndex;Sr(64===t.length,"Private key must be ".concat(64," bytes but received ").concat(t.length," bytes"));try{var i=xn.fromSecretKey(t),o=i.publicKey.toBytes(),a=I().sign.detached(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:n})}catch(s){throw new Error("Error creating instruction; ".concat(s))}}}]),e}();Pn.programId=new er("Ed25519SigVerify111111111111111111111111111");var Zn=new er("StakeConfig11111111111111111111111111111111"),On=(0,o.Z)((function e(t,r,n){(0,i.Z)(this,e),this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=r,this.custodian=n}));On.default=new On(0,0,er.default);var Tn=Object.freeze({Initialize:{index:0,layout:Z.n_([Z.Jq("instruction"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return Z.n_([ar("staker"),ar("withdrawer")],e)}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return Z.n_([Z.gM("unixTimestamp"),Z.gM("epoch"),ar("custodian")],e)}()])},Authorize:{index:1,layout:Z.n_([Z.Jq("instruction"),ar("newAuthorized"),Z.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:Z.n_([Z.Jq("instruction")])},Split:{index:3,layout:Z.n_([Z.Jq("instruction"),Z.gM("lamports")])},Withdraw:{index:4,layout:Z.n_([Z.Jq("instruction"),Z.gM("lamports")])},Deactivate:{index:5,layout:Z.n_([Z.Jq("instruction")])},Merge:{index:7,layout:Z.n_([Z.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:Z.n_([Z.Jq("instruction"),ar("newAuthorized"),Z.Jq("stakeAuthorizationType"),sr("authoritySeed"),ar("authorityOwner")])}}),Cn=(Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"initialize",value:function(e){var t=e.stakePubkey,r=e.authorized,n=e.lockup||On.default,i=lr(Tn.Initialize,{authorized:{staker:B(r.staker.toBuffer()),withdrawer:B(r.withdrawer.toBuffer())},lockup:{unixTimestamp:n.unixTimestamp,epoch:n.epoch,custodian:B(n.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:vr,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new Ar(o)}},{key:"createAccountWithSeed",value:function(e){var t=new xr;t.add(Pr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,i=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"createAccount",value:function(e){var t=new xr;t.add(Pr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,i=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"delegate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.votePubkey,i=lr(Tn.Delegate);return(new xr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:gr,isSigner:!1,isWritable:!1},{pubkey:mr,isSigner:!1,isWritable:!1},{pubkey:Zn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"authorize",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,i=e.stakeAuthorizationType,o=e.custodianPubkey,a=lr(Tn.Authorize,{newAuthorized:B(n.toBuffer()),stakeAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:gr,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&s.push({pubkey:o,isSigner:!1,isWritable:!1}),(new xr).add({keys:s,programId:this.programId,data:a})}},{key:"authorizeWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorityBase,n=e.authoritySeed,i=e.authorityOwner,o=e.newAuthorizedPubkey,a=e.stakeAuthorizationType,s=e.custodianPubkey,u=lr(Tn.AuthorizeWithSeed,{newAuthorized:B(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:n,authorityOwner:B(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:gr,isSigner:!1,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!1,isWritable:!1}),(new xr).add({keys:c,programId:this.programId,data:u})}},{key:"splitInstruction",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,i=e.lamports,o=lr(Tn.Split,{lamports:i});return new Ar({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}},{key:"split",value:function(e){var t=new xr;return t.add(Pr.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}},{key:"splitWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,i=e.basePubkey,o=e.seed,a=e.lamports,s=new xr;return s.add(Pr.allocate({accountPubkey:n,basePubkey:i,seed:o,space:this.space,programId:this.programId})),s.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:a}))}},{key:"merge",value:function(e){var t=e.stakePubkey,r=e.sourceStakePubKey,n=e.authorizedPubkey,i=lr(Tn.Merge);return(new xr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:gr,isSigner:!1,isWritable:!1},{pubkey:mr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"withdraw",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.toPubkey,i=e.lamports,o=e.custodianPubkey,a=lr(Tn.Withdraw,{lamports:i}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:gr,isSigner:!1,isWritable:!1},{pubkey:mr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&s.push({pubkey:o,isSigner:!1,isWritable:!1}),(new xr).add({keys:s,programId:this.programId,data:a})}},{key:"deactivate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=lr(Tn.Deactivate);return(new xr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:gr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}]),e}());Cn.programId=new er("Stake11111111111111111111111111111111111111"),Cn.space=200;var Nn=C().publicKeyCreate,Wn=C().ecdsaSign,Bn=Z.n_([Z.u8("numSignatures"),Z.KB("signatureOffset"),Z.u8("signatureInstructionIndex"),Z.KB("ethAddressOffset"),Z.u8("ethAddressInstructionIndex"),Z.KB("messageDataOffset"),Z.KB("messageDataSize"),Z.u8("messageInstructionIndex"),Z.Ik(20,"ethAddress"),Z.Ik(64,"signature"),Z.u8("recoveryId")]),Un=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"publicKeyToEthAddress",value:function(e){Sr(64===e.length,"Public key must be ".concat(64," bytes but received ").concat(e.length," bytes"));try{return _.lW.from(W().keccak_256.update(B(e)).digest()).slice(-20)}catch(t){throw new Error("Error constructing Ethereum address: ".concat(t))}}},{key:"createInstructionWithPublicKey",value:function(t){var r=t.publicKey,n=t.message,i=t.signature,o=t.recoveryId,a=t.instructionIndex;return e.createInstructionWithEthAddress({ethAddress:e.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:a})}},{key:"createInstructionWithEthAddress",value:function(t){var r,n=t.ethAddress,i=t.message,o=t.signature,a=t.recoveryId,s=t.instructionIndex,u=void 0===s?0:s;Sr(20===(r="string"===typeof n?n.startsWith("0x")?_.lW.from(n.substr(2),"hex"):_.lW.from(n,"hex"):n).length,"Address must be ".concat(20," bytes but received ").concat(r.length," bytes"));var c=12+r.length,h=c+o.length+1,l=_.lW.alloc(Bn.span+i.length);return Bn.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:u,ethAddressOffset:12,ethAddressInstructionIndex:u,messageDataOffset:h,messageDataSize:i.length,messageInstructionIndex:u,signature:B(o),ethAddress:B(r),recoveryId:a},l),l.fill(B(i),Bn.span),new Ar({keys:[],programId:e.programId,data:l})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,r=e.message,n=e.instructionIndex;Sr(32===t.length,"Private key must be ".concat(32," bytes but received ").concat(t.length," bytes"));try{var i=B(t),o=Nn(i,!1).slice(1),a=_.lW.from(W().keccak_256.update(B(r)).digest()),s=Wn(a,i),u=s.signature,c=s.recid;return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:u,recoveryId:c,instructionIndex:n})}catch(h){throw new Error("Error creating instruction; ".concat(h))}}}]),e}();Un.programId=new er("KeccakSecp256k11111111111111111111111111111");new er("Va1idator1nfo111111111111111111111111111111"),(0,O.dt)({name:(0,O.Z_)(),website:(0,O.jt)((0,O.Z_)()),details:(0,O.jt)((0,O.Z_)()),keybaseUsername:(0,O.jt)((0,O.Z_)())}),new er("Vote111111111111111111111111111111111111111"),Z.n_([ar("nodePubkey"),ar("authorizedWithdrawer"),Z.u8("commission"),Z._O(),Z.A9(Z.n_([Z._O("slot"),Z.Jq("confirmationCount")]),Z.cv(Z.Jq(),-8),"votes"),Z.u8("rootSlotValid"),Z._O("rootSlot"),Z._O(),Z.A9(Z.n_([Z._O("epoch"),ar("authorizedVoter")]),Z.cv(Z.Jq(),-8),"authorizedVoters"),Z.n_([Z.A9(Z.n_([ar("authorizedPubkey"),Z._O("epochOfLastAuthorizedSwitch"),Z._O("targetEpoch")]),32,"buf"),Z._O("idx"),Z.u8("isEmpty")],"priorVoters"),Z._O(),Z.A9(Z.n_([Z._O("epoch"),Z._O("credits"),Z._O("prevCredits")]),Z.cv(Z.Jq(),-8),"epochCredits"),Z.n_([Z._O("slot"),Z._O("timestamp")],"lastTimestamp")]);var Ln=Object.freeze({InitializeAccount:{index:0,layout:Z.n_([Z.Jq("instruction"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return Z.n_([ar("nodePubkey"),ar("authorizedVoter"),ar("authorizedWithdrawer"),Z.u8("commission")],e)}()])},Authorize:{index:1,layout:Z.n_([Z.Jq("instruction"),ar("newAuthorized"),Z.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:Z.n_([Z.Jq("instruction"),Z.gM("lamports")])}}),zn=(Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"initializeAccount",value:function(e){var t=e.votePubkey,r=e.nodePubkey,n=e.voteInit,i=lr(Ln.InitializeAccount,{voteInit:{nodePubkey:B(n.nodePubkey.toBuffer()),authorizedVoter:B(n.authorizedVoter.toBuffer()),authorizedWithdrawer:B(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:vr,isSigner:!1,isWritable:!1},{pubkey:gr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Ar(o)}},{key:"createAccount",value:function(e){var t=new xr;return t.add(Pr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}},{key:"authorize",value:function(e){var t=e.votePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,i=e.voteAuthorizationType,o=lr(Ln.Authorize,{newAuthorized:B(n.toBuffer()),voteAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:gr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new xr).add({keys:a,programId:this.programId,data:o})}},{key:"withdraw",value:function(e){var t=e.votePubkey,r=e.authorizedWithdrawerPubkey,n=e.lamports,i=e.toPubkey,o=lr(Ln.Withdraw,{lamports:n}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new xr).add({keys:a,programId:this.programId,data:o})}}]),e}());zn.programId=new er("Vote111111111111111111111111111111111111111"),zn.space=3731;var jn=r(2609),Mn=r(29072),qn=r(23484),Dn=r(28227),Kn=r(31325),Gn=r(14681),Fn=r.n(Gn),Jn=r(62649),Hn=r.n(Jn),Xn=r(89806),Vn=r.n(Xn),Yn=r(40918).Buffer,Qn={disconnected:function(){return"Torus: Lost connection to Torus."},permanentlyDisconnected:function(){return"Torus: Disconnected from iframe. Page reload required."},unsupportedSync:function(e){return"Torus: The Torus Ethereum provider does not support synchronous methods like ".concat(e," without a callback parameter.")},invalidDuplexStream:function(){return"Must provide a Node.js-style duplex stream."},invalidOptions:function(e){return"Invalid options. Received: { maxEventListeners: ".concat(e,"}")},invalidRequestArgs:function(){return"Expected a single, non-array, object argument."},invalidRequestMethod:function(){return"'args.method' must be a non-empty string."},invalidRequestParams:function(){return"'args.params' must be an object or array if provided."},invalidLoggerObject:function(){return"'args.logger' must be an object if provided."},invalidLoggerMethod:function(e){return"'args.logger' must include required method '".concat(e,"'.")}},$n={connected:function(e){return'Torus: Connected to chain with ID "'.concat(e,'".')}},ei="production",ti="bottom-left",ri="top-left",ni="bottom-right",ii="top-right",oi={supportedVerifierList:["google","reddit","discord"],api:"https://api.tor.us",translations:{en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies ben\xf6tigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"\u7d99\u7d9a\u3059\u308b",actionRequired:"\u8a8d\u8a3c\u304c\u5fc5\u8981\u3067\u3059",pendingAction:"\u7d9a\u884c\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u7d9a\u884c\u3057\u307e\u3059",cookiesRequired:"\u5fc5\u8981\u306a\u30af\u30c3\u30ad\u30fc",enableCookies:"Torus\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306b\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u8a2d\u5b9a\u3067Cookie\u3092\u6709\u52b9\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",clickHere:"\u8a73\u3057\u304f\u306f"}},ko:{embed:{continue:"\uacc4\uc18d\ud558\ub2e4",actionRequired:"\uc2b9\uc778 \ud544\uc694",pendingAction:"\ud31d\uc5c5\uc5d0\uc11c \uc694\uccad\uc744 \uc9c4\ud589\ud558\ub824\uba74 \uacc4\uc18d\uc744 \ud074\ub9ad\ud558\uc2ed\uc2dc\uc624.",cookiesRequired:"\ucfe0\ud0a4 \ud544\uc694",enableCookies:"\ube0c\ub77c\uc6b0\uc800 \ud658\uacbd \uc124\uc815\uc5d0\uc11c \ucfe0\ud0a4\ub97c \ud65c\uc131\ud654\ud558\uc5ec Torus\uc5d0 \uc561\uc138\uc2a4\ud558\uc2ed\uc2dc\uc624.",clickHere:"\ub354 \ub9ce\uc740 \uc815\ubcf4"}},zh:{embed:{continue:"\u7ee7\u7eed",actionRequired:"\u9700\u8981\u6388\u6743",pendingAction:"\u5355\u51fb\u7ee7\u7eed\u4ee5\u5728\u5f39\u51fa\u7a97\u53e3\u4e2d\u7ee7\u7eed\u60a8\u7684\u8bf7\u6c42",cookiesRequired:"\u5fc5\u586bCookie",enableCookies:"\u8bf7\u5728\u60a8\u7684\u6d4f\u89c8\u5668\u9996\u9009\u9879\u4e2d\u542f\u7528cookie\u4ee5\u8bbf\u95eeTorus\u3002",clickHere:"\u66f4\u591a\u4fe1\u606f"}}},prodTorusUrl:"",localStorageKey:"torus-".concat(window.location.hostname)},ai=Hn().getLogger("solana-embed");var si=function(){return Math.random().toString(36).slice(2)},ui=function(){var e=(0,n.Z)((0,y.Z)().mark((function e(t){var r,n;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="testing"===e.t0?3:"development"===e.t0?6:9;break;case 3:return r="https://solana-testing.tor.us",n="debug",e.abrupt("break",12);case 6:return r="http://localhost:8080",n="debug",e.abrupt("break",12);case 9:return r="https://solana.tor.us",n="error",e.abrupt("break",12);case 12:return e.abrupt("return",{torusUrl:r,logLevel:n});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ci={height:660,width:375},hi={height:740,width:1315},li={height:700,width:1200},di={height:600,width:400};function fi(e){var t=e.width,r=e.height,n=void 0!==window.screenLeft?window.screenLeft:window.screenX,i=void 0!==window.screenTop?window.screenTop:window.screenY,o=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,s=Math.abs((o-t)/2/1+n),u=Math.abs((a-r)/2/1+i);return"titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=".concat(r/1,",width=").concat(t/1,",top=").concat(u,",left=").concat(s)}var pi=function(e){(0,u.Z)(r,e);var t=(0,g.Z)(r);function r(e,n){var o;(0,i.Z)(this,r);var s=n.maxEventListeners,u=void 0===s?100:s,c=n.jsonRpcStreamName,h=void 0===c?"provider":c;if(o=t.call(this),(0,l.Z)((0,a.Z)(o),"isTorus",void 0),(0,l.Z)((0,a.Z)(o),"_rpcEngine",void 0),(0,l.Z)((0,a.Z)(o),"jsonRpcConnectionEvents",void 0),(0,l.Z)((0,a.Z)(o),"_state",void 0),!(0,Kn.duplex)(e))throw new Error(Qn.invalidDuplexStream());o.isTorus=!0,o.setMaxListeners(u),o._handleConnect=o._handleConnect.bind((0,a.Z)(o)),o._handleDisconnect=o._handleDisconnect.bind((0,a.Z)(o)),o._handleStreamDisconnect=o._handleStreamDisconnect.bind((0,a.Z)(o)),o._rpcRequest=o._rpcRequest.bind((0,a.Z)(o)),o._initializeState=o._initializeState.bind((0,a.Z)(o)),o.request=o.request.bind((0,a.Z)(o)),o.sendAsync=o.sendAsync.bind((0,a.Z)(o));var d=new qn.O4;Fn()(e,d,e,o._handleStreamDisconnect.bind((0,a.Z)(o),"Torus")),d.ignoreStream("phishing");var f=(0,qn.AP)();Fn()(f.stream,d.createStream(h),f.stream,o._handleStreamDisconnect.bind((0,a.Z)(o),"Torus RpcProvider"));var p=new qn.eI;return p.push((0,qn.Rq)()),p.push((function(e,t,r){"string"===typeof e.method&&e.method||(t.error=Dn.Sy.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:e})),r((function(e){var r=t.error;return r?(ai.error("Torus - RPC Error: ".concat(r.message),r),e()):e()}))})),p.push((0,jn.yh)({origin:location.origin})),p.push(f.middleware),o._rpcEngine=p,o.jsonRpcConnectionEvents=f.events,o}return(0,o.Z)(r,[{key:"request",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(t){var r,n,i=this;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"object"===typeof t&&!Array.isArray(t)){e.next=2;break}throw Dn.Sy.rpc.invalidRequest({message:Qn.invalidRequestArgs(),data:t});case 2:if(r=t.method,n=t.params,"string"===typeof r&&0!==r.length){e.next=5;break}throw Dn.Sy.rpc.invalidRequest({message:Qn.invalidRequestMethod(),data:t});case 5:if(void 0===n||Array.isArray(n)||"object"===typeof n&&null!==n){e.next=7;break}throw Dn.Sy.rpc.invalidRequest({message:Qn.invalidRequestParams(),data:t});case 7:return e.abrupt("return",new Promise((function(e,t){i._rpcRequest({method:r,params:n},(0,qn.nE)(e,t))})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"send",value:function(e,t){this._rpcRequest(e,t)}},{key:"sendAsync",value:function(e){var t=this;return new Promise((function(r,n){t._rpcRequest(e,(0,qn.nE)(r,n))}))}},{key:"_handleStreamDisconnect",value:function(e,t){!function(e,t,r){var n='Torus: Lost connection to "'.concat(e,'".');null!==t&&void 0!==t&&t.stack&&(n+="\n".concat(t.stack)),ai.warn(n),r&&r.listenerCount("error")>0&&r.emit("error",n)}(e,t,this),this._handleDisconnect(!1,t?t.message:void 0)}}]),r}(qn.Ue),gi=function(e,t,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];var a=function n(){r.apply(void 0,i),e.removeEventListener(t,n)};e.addEventListener(t,a)};function yi(){return vi.apply(this,arguments)}function vi(){return(vi=(0,n.Z)((0,y.Z)().mark((function e(){return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){"loading"!==document.readyState?e():gi(document,"DOMContentLoaded",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mi=function(e){var t=window.document.createElement("template"),r=e.trim();return t.innerHTML=r,t.content.firstChild},bi=function(e){(0,u.Z)(r,e);var t=(0,g.Z)(r);function r(e){var n;(0,i.Z)(this,r);var o=e.url,s=e.target,u=e.features;return n=t.call(this),(0,l.Z)((0,a.Z)(n),"url",void 0),(0,l.Z)((0,a.Z)(n),"target",void 0),(0,l.Z)((0,a.Z)(n),"features",void 0),(0,l.Z)((0,a.Z)(n),"window",void 0),(0,l.Z)((0,a.Z)(n),"windowTimer",void 0),(0,l.Z)((0,a.Z)(n),"iClosedWindow",void 0),n.url=o,n.target=s||"_blank",n.features=u||fi(li),n.window=void 0,n.windowTimer=void 0,n.iClosedWindow=!1,n._setupTimer(),n}return(0,o.Z)(r,[{key:"_setupTimer",value:function(){var e=this;this.windowTimer=Number(setInterval((function(){e.window&&e.window.closed&&(clearInterval(e.windowTimer),e.iClosedWindow||e.emit("close"),e.iClosedWindow=!1,e.window=void 0),void 0===e.window&&clearInterval(e.windowTimer)}),500))}},{key:"open",value:function(){var e;return this.window=window.open(this.url.href,this.target,this.features),null!==(e=this.window)&&void 0!==e&&e.focus&&this.window.focus(),Promise.resolve()}},{key:"close",value:function(){this.iClosedWindow=!0,this.window&&this.window.close()}},{key:"redirect",value:function(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}]),r}(qn.Ue);function wi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ki=function(e){(0,u.Z)(r,e);var t=(0,g.Z)(r);function r(e,n){var o;(0,i.Z)(this,r);var s=n.maxEventListeners,u=void 0===s?100:s,c=n.jsonRpcStreamName,h=void 0===c?"provider":c;o=t.call(this,e,{maxEventListeners:u,jsonRpcStreamName:h}),(0,l.Z)((0,a.Z)(o),"embedTranslations",void 0),(0,l.Z)((0,a.Z)(o),"torusUrl",void 0),(0,l.Z)((0,a.Z)(o),"dappStorageKey",void 0),(0,l.Z)((0,a.Z)(o),"windowRefs",void 0),(0,l.Z)((0,a.Z)(o),"tryWindowHandle",void 0),(0,l.Z)((0,a.Z)(o),"torusAlertContainer",void 0),(0,l.Z)((0,a.Z)(o),"torusIframe",void 0),o._state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wi(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r._defaultState),o.torusUrl="",o.dappStorageKey="";var d=oi.translations[function(){var e=window.navigator.language||"en-US",t=e.split("-");return Object.prototype.hasOwnProperty.call(oi.translations,t[0])?t[0]:"en"}()];o.embedTranslations=d.embed,o.windowRefs={},o.on("connect",(function(){o._state.isConnected=!0}));return o.jsonRpcConnectionEvents.on("notification",(function(e){var t=e.method,r=e.params;if(t===jn.Nb.IFRAME_STATUS){var n=r.isFullScreen,i=r.rid;o._displayIframe({isFull:n,rid:i})}else if(t===jn.Nb.CREATE_WINDOW){var a=r.windowId,s=r.url;o._createPopupBlockAlert(a,s)}else if(t===jn.Nb.CLOSE_WINDOW)o._handleCloseWindow(r);else if(t===jn.Nb.USER_LOGGED_IN){var u=r.currentLoginProvider;o._state.isLoggedIn=!0,o._state.currentLoginProvider=u}else t===jn.Nb.USER_LOGGED_OUT&&(o._state.isLoggedIn=!1,o._state.currentLoginProvider=null,o._displayIframe())})),o}return(0,o.Z)(r,[{key:"isLoggedIn",get:function(){return this._state.isLoggedIn}},{key:"isIFrameFullScreen",get:function(){return this._state.isIFrameFullScreen}},{key:"isConnected",value:function(){return this._state.isConnected}},{key:"_initializeState",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(t){var r,n,i,o,a,s,u,c=this;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.torusUrl,n=t.dappStorageKey,i=t.torusAlertContainer,o=t.torusIframe,this.torusUrl=r,this.dappStorageKey=n,this.torusAlertContainer=i,this.torusIframe=o,this.torusIframe.addEventListener("load",(function(){c._state.isIFrameFullScreen||c._displayIframe()})),e.next=9,this.request({method:jn.vU.GET_PROVIDER_STATE,params:[]});case 9:a=e.sent,s=a.currentLoginProvider,u=a.isLoggedIn,this._handleConnect(s,u),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),ai.error("Torus: Failed to get initial state. Please report this bug.",e.t0);case 18:return e.prev=18,ai.info("initialized communication state"),this._state.initialized=!0,this.emit("_initialized"),e.finish(18);case 23:case"end":return e.stop()}}),e,this,[[0,15,18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_handleWindow",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.url,i=r.target,o=r.features,a=new URL(n||"".concat(this.torusUrl,"/redirect?windowId=").concat(e));this.dappStorageKey&&(a.hash?a.hash+="&dappStorageKey=".concat(this.dappStorageKey):a.hash="#dappStorageKey=".concat(this.dappStorageKey));var s=new bi({url:a,target:i,features:o});s.open(),s.window?(this.windowRefs[e]=s,this.request({method:jn.vU.OPENED_WINDOW,params:{windowId:e}}),s.once("close",(function(){delete t.windowRefs[e],t.request({method:jn.vU.CLOSED_WINDOW,params:{windowId:e}})}))):this._createPopupBlockAlert(e,a.href)}},{key:"_displayIframe",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isFull,r=void 0!==t&&t,n=e.rid,i=void 0===n?"":n,o={};if(r)o.display="block",o.width="100%",o.height="100%",o.top="0px",o.right="0px",o.left="0px",o.bottom="0px";else switch(o.display=this._state.torusWidgetVisibility?"block":"none",o.height="70px",o.width="70px",this._state.buttonPosition){case ri:o.top="0px",o.left="0px",o.right="auto",o.bottom="auto";break;case ii:o.top="0px",o.right="0px",o.left="auto",o.bottom="auto";break;case ni:o.bottom="0px",o.right="0px",o.top="auto",o.left="auto";break;default:o.bottom="0px",o.left="0px",o.top="auto",o.right="auto"}Object.assign(this.torusIframe.style,o),this._state.isIFrameFullScreen=r,this.request({method:jn.vU.IFRAME_STATUS,params:{isIFrameFullScreen:r,rid:i}})}},{key:"hideTorusButton",value:function(){this._state.torusWidgetVisibility=!1,this._displayIframe()}},{key:"showTorusButton",value:function(){this._state.torusWidgetVisibility=!0,this._displayIframe()}},{key:"_rpcRequest",value:function(e,t){var r=t,n=e;Array.isArray(n)||n.jsonrpc||(n.jsonrpc="2.0"),this.tryWindowHandle(n,r)}},{key:"_handleConnect",value:function(e,t){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{currentLoginProvider:e,isLoggedIn:t}),ai.debug($n.connected(e)))}},{key:"_handleDisconnect",value:function(e,t){var r;(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e)&&(this._state.isConnected=!1,e?(r=new Dn.Cg(1013,t||Qn.disconnected()),ai.debug(r)):(r=new Dn.Cg(1011,t||Qn.permanentlyDisconnected()),ai.error(r),this._state.currentLoginProvider=null,this._state.isLoggedIn=!1,this._state.torusWidgetVisibility=!1,this._state.isIFrameFullScreen=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r))}},{key:"_handleCloseWindow",value:function(e){var t=e.windowId;this.windowRefs[t]&&(this.windowRefs[t].close(),delete this.windowRefs[t])}},{key:"_createPopupBlockAlert",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(t,r){var n,i,o,a,s,u,c=this;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getLogoUrl(),i=mi('<div id="torusAlert" class="torus-alert--v2">'+'<div id="torusAlert__logo"><img src="'.concat(n,'" /></div>')+"<div>"+'<h1 id="torusAlert__title">'.concat(this.embedTranslations.actionRequired,"</h1>")+'<p id="torusAlert__desc">'.concat(this.embedTranslations.pendingAction,"</p>")+"</div></div>"),o=mi('<div><a id="torusAlert__btn">'.concat(this.embedTranslations.continue,"</a></div>")),(a=mi('<div id="torusAlert__btn-container"></div>')).appendChild(o),i.appendChild(a),s=function(){o.addEventListener("click",(function(){c._handleWindow(t,{url:r,target:"_blank",features:fi(di)}),i.remove(),0===c.torusAlertContainer.children.length&&(c.torusAlertContainer.style.display="none")}))},u=function(){c.torusAlertContainer.appendChild(i)},e.next=10,yi();case 10:u(),s(),this.torusAlertContainer.style.display="block";case 13:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getLogoUrl",value:function(){return"".concat(this.torusUrl,"/images/torus_icon-blue.svg")}}]),r}(pi);function Ii(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(0,l.Z)(ki,"_defaultState",{buttonPosition:"bottom-left",currentLoginProvider:null,isIFrameFullScreen:!1,hasEmittedConnection:!1,torusWidgetVisibility:!1,initialized:!1,isLoggedIn:!1,isPermanentlyDisconnected:!1,isConnected:!1});var _i=function(e){(0,u.Z)(r,e);var t=(0,g.Z)(r);function r(e,n){var o;(0,i.Z)(this,r);var s=n.maxEventListeners,u=void 0===s?100:s,c=n.jsonRpcStreamName,h=void 0===c?"provider":c;o=t.call(this,e,{maxEventListeners:u,jsonRpcStreamName:h}),(0,l.Z)((0,a.Z)(o),"chainId",void 0),(0,l.Z)((0,a.Z)(o),"selectedAddress",void 0),(0,l.Z)((0,a.Z)(o),"tryWindowHandle",void 0),o._state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ii(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ii(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r._defaultState),o.selectedAddress=null,o.chainId=null,o._handleAccountsChanged=o._handleAccountsChanged.bind((0,a.Z)(o)),o._handleChainChanged=o._handleChainChanged.bind((0,a.Z)(o)),o._handleUnlockStateChanged=o._handleUnlockStateChanged.bind((0,a.Z)(o)),o.on("connect",(function(){o._state.isConnected=!0}));return o.jsonRpcConnectionEvents.on("notification",(function(e){var t=e.method,r=e.params;t===jn.zK.ACCOUNTS_CHANGED?o._handleAccountsChanged(r):t===jn.zK.UNLOCK_STATE_CHANGED?o._handleUnlockStateChanged(r):t===jn.zK.CHAIN_CHANGED&&o._handleChainChanged(r)})),o}return(0,o.Z)(r,[{key:"isConnected",value:function(){return this._state.isConnected}},{key:"_initializeState",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(){var t,r,n,i;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.request({method:jn.GA.GET_PROVIDER_STATE,params:[]});case 3:t=e.sent,r=t.accounts,n=t.chainId,i=t.isUnlocked,this.emit("connect",{chainId:n}),this._handleChainChanged({chainId:n}),this._handleUnlockStateChanged({accounts:r,isUnlocked:i}),this._handleAccountsChanged(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),ai.error("Torus: Failed to get initial state. Please report this bug.",e.t0);case 16:return e.prev=16,ai.info("initialized provider state"),this._state.initialized=!0,this.emit("_initialized"),e.finish(16);case 21:case"end":return e.stop()}}),e,this,[[0,13,16,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"_rpcRequest",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t,o=e;if(!Array.isArray(o))if(o.jsonrpc||(o.jsonrpc="2.0"),"solana_accounts"===o.method||"solana_requestAccounts"===o.method)i=function(e,i){r._handleAccountsChanged(i.result||[],"solana_accounts"===o.method,n),t(e,i)};else if("wallet_getProviderState"===o.method)return void this._rpcEngine.handle(e,i);this.tryWindowHandle(o,i)}},{key:"_handleConnect",value:function(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),ai.debug($n.connected(e)))}},{key:"_handleDisconnect",value:function(e,t){var r;(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e)&&(this._state.isConnected=!1,e?(r=new Dn.Cg(1013,t||Qn.disconnected()),ai.debug(r)):(r=new Dn.Cg(1011,t||Qn.permanentlyDisconnected()),ai.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r))}},{key:"_handleAccountsChanged",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e;Array.isArray(n)||(ai.error("Torus: Received non-array accounts parameter. Please report this bug.",n),n=[]);var i,o=(0,p.Z)(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;if("string"!==typeof a){ai.error("Torus: Received non-string account. Please report this bug.",e),n=[];break}}}catch(s){o.e(s)}finally{o.f()}Vn()(this._state.accounts,n)||(t&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!r&&ai.error('Torus: "solana_accounts" unexpectedly updated accounts. Please report this bug.',n),this._state.accounts=n,this.emit("accountsChanged",n)),this.selectedAddress!==n[0]&&(this.selectedAddress=n[0]||null)}},{key:"_handleChainChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.chainId;t?"loading"===t?this._handleDisconnect(!0):(this._handleConnect(t),t!==this.chainId&&(this.chainId=t,this._state.initialized&&this.emit("chainChanged",this.chainId))):ai.error("Torus: Received invalid network parameters. Please report this bug.",{chainId:t})}},{key:"_handleUnlockStateChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accounts,r=e.isUnlocked;"boolean"===typeof r?r!==this._state.isUnlocked&&(this._state.isUnlocked=r,this._handleAccountsChanged(t||[])):ai.error("Torus: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:r})}}]),r}(pi);function Si(e){return new Promise((function(t,r){try{var n=document.createElement("img");n.onload=function(){return t(!0)},n.onerror=function(){return t(!1)},n.src=e}catch(i){r(i)}}))}(0,l.Z)(_i,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});var Ei=function(e){var t=e.document,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;var n=t.querySelector('head > meta[name="title"]');return n?n.content:t.title&&t.title.length>0?t.title:e.location.hostname};function Ai(e){return xi.apply(this,arguments)}function xi(){return(xi=(0,n.Z)((0,y.Z)().mark((function e(t){var r,n;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=t.document,n=r.querySelector('head > link[rel="shortcut icon"]'),e.t0=n,!e.t0){e.next=8;break}return e.next=7,Si(n.href);case 7:e.t0=e.sent;case 8:if(!e.t0){e.next=10;break}return e.abrupt("return",n.href);case 10:if(n=Array.from(r.querySelectorAll('head > link[rel="icon"]')).find((function(e){return Boolean(e.href)})),e.t1=n,!e.t1){e.next=16;break}return e.next=15,Si(n.href);case 15:e.t1=e.sent;case 16:if(!e.t1){e.next=18;break}return e.abrupt("return",n.href);case 18:return e.abrupt("return","");case 21:return e.prev=21,e.t2=e.catch(0),e.abrupt("return","");case 24:case"end":return e.stop()}}),e,null,[[0,21]])})))).apply(this,arguments)}var Ri=function(){var e=(0,n.Z)((0,y.Z)().mark((function e(){return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ei(window),e.next=3,Ai(window);case 3:return e.t1=e.sent,e.abrupt("return",{name:e.t0,icon:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Pi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pi(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Oi=r(27384).version,Ti=["send_transaction","sign_transaction","sign_all_transactions","sign_message","connect"],Ci=[jn.vU.SET_PROVIDER],Ni=function(e){var t;try{t=window[e];var r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(n){return n&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&t&&0!==t.length}}("localStorage");!function(){var e=(0,n.Z)((0,y.Z)().mark((function e(){var t,r,n;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"undefined"!==typeof document){e.next=3;break}return e.abrupt("return");case 3:return t=document.createElement("link"),e.next=6,ui("production");case 6:r=e.sent,n=r.torusUrl,t.href="".concat(n,"/frame"),t.crossOrigin="anonymous",t.type="text/html",t.rel="prefetch",t.relList&&t.relList.supports&&t.relList.supports("prefetch")&&document.head.appendChild(t),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),ai.warn(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}()();var Wi=function(){function e(){(0,i.Z)(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.modalZIndex,n=void 0===r?99999:r;(0,l.Z)(this,"isInitialized",void 0),(0,l.Z)(this,"torusAlert",void 0),(0,l.Z)(this,"modalZIndex",void 0),(0,l.Z)(this,"alertZIndex",void 0),(0,l.Z)(this,"requestedLoginProvider",void 0),(0,l.Z)(this,"provider",void 0),(0,l.Z)(this,"communicationProvider",void 0),(0,l.Z)(this,"dappStorageKey",void 0),(0,l.Z)(this,"isTopupHidden",!1),(0,l.Z)(this,"torusAlertContainer",void 0),(0,l.Z)(this,"torusUrl",void 0),(0,l.Z)(this,"torusIframe",void 0),(0,l.Z)(this,"styleLink",void 0),this.torusUrl="",this.isInitialized=!1,this.requestedLoginProvider=null,this.modalZIndex=n,this.alertZIndex=n+1e3,this.dappStorageKey=""}return(0,o.Z)(e,[{key:"isLoggedIn",get:function(){return!!this.communicationProvider&&this.communicationProvider.isLoggedIn}},{key:"init",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(){var t,r,i,o,a,s,u,c,h,l,d,f,p,g,v,m,b,w,k,I,_,S,E,A,x=this,R=arguments;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=R.length>0&&void 0!==R[0]?R[0]:{},r=t.buildEnv,i=void 0===r?ei:r,o=t.enableLogging,a=void 0!==o&&o,s=t.network,u=t.showTorusButton,c=void 0!==u&&u,h=t.useLocalStorage,l=void 0!==h&&h,d=t.buttonPosition,f=void 0===d?ti:d,p=t.apiKey,g=void 0===p?"torus-default":p,v=t.extraParams,m=void 0===v?{}:v,b=t.whiteLabel,!this.isInitialized){e.next=3;break}throw new Error("Already initialized");case 3:return(0,Mn.ut)(g),e.next=6,ui(i);case 6:return w=e.sent,k=w.torusUrl,I=w.logLevel,ai.enableAll(),ai.info(k,"url loaded"),ai.info("Solana Embed Version :".concat(Oi)),this.torusUrl=k,ai.setDefaultLevel(I),a?ai.enableAll():ai.disableAll(),_=this.handleDappStorageKey(l),(S=new URL(k)).pathname.endsWith("/")?S.pathname+="frame":S.pathname+="/frame",E=new URLSearchParams,_&&E.append("dappStorageKey",_),E.append("origin",window.location.origin),S.hash=E.toString(),this.torusIframe=mi('<iframe\n        id="torusIframe"\n        class="torusIframe"\n        src="'.concat(S.href,'"\n        style="display: none; position: fixed; top: 0; right: 0; width: 100%;\n        height: 100%; border: none; border-radius: 0; z-index: ').concat(this.modalZIndex.toString(),'"\n      ></iframe>')),this.torusAlertContainer=mi('<div id="torusAlertContainer" style="display:none; z-index: '.concat(this.alertZIndex.toString(),'"></div>')),this.styleLink=mi('<link href="'.concat(k,'/css/widget.css" rel="stylesheet" type="text/css">')),A=function(){var e=(0,n.Z)((0,y.Z)().mark((function e(){return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){try{window.document.head.appendChild(x.styleLink),window.document.body.appendChild(x.torusIframe),window.document.body.appendChild(x.torusAlertContainer),x.torusIframe.addEventListener("load",(0,n.Z)((0,y.Z)().mark((function t(){var r;return(0,y.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ri();case 2:return r=t.sent,x.torusIframe.contentWindow.postMessage({buttonPosition:f,apiKey:g,network:s,dappMetadata:r,extraParams:m,whiteLabel:b},S.origin),t.next=6,x._setupWeb3({torusUrl:k});case 6:c&&x.showTorusButton(),null!==b&&void 0!==b&&b.topupHide?x.isTopupHidden=b.topupHide:x.hideTorusButton(),x.isInitialized=!0,window.torus=x,e();case 11:case"end":return t.stop()}}),t)}))))}catch(r){t(r)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=28,yi();case 28:return e.next=30,A();case 30:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(){var t,r,n=this,i=arguments;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},this.isInitialized){e.next=3;break}throw new Error("Call init() first");case 3:return e.prev=3,this.requestedLoginProvider=t.loginProvider||null,this.requestedLoginProvider||this.communicationProvider._displayIframe({isFull:!0}),e.next=8,new Promise((function(e,r){n.provider._rpcRequest({method:"solana_requestAccounts",params:[n.requestedLoginProvider,t.login_hint]},(0,qn.nE)(e,r))}));case 8:if(r=e.sent,!(Array.isArray(r)&&r.length>0)){e.next=11;break}return e.abrupt("return",r);case 11:throw new Error("Login failed");case 14:throw e.prev=14,e.t0=e.catch(3),ai.error("login failed",e.t0),e.t0;case 18:return e.prev=18,this.communicationProvider.isIFrameFullScreen&&this.communicationProvider._displayIframe(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,14,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"loginWithPrivateKey",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(t){var r,n,i;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}throw new Error("Call init() first");case 2:return r=t.privateKey,n=t.userInfo,e.next=5,this.communicationProvider.request({method:"login_with_private_key",params:{privateKey:r,userInfo:n}});case 5:if(i=e.sent,i.success){e.next=9;break}throw new Error("Login Failed");case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(){return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.communicationProvider.isLoggedIn){e.next=2;break}throw new Error("Not logged in");case 2:return e.next=4,this.communicationProvider.request({method:jn.vU.LOGOUT,params:[]});case 4:this.requestedLoginProvider=null;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(){return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.communicationProvider.isLoggedIn){e.next=3;break}return e.next=3,this.logout();case 3:this.clearInit();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearInit",value:function(){function e(e){return e instanceof Element||e instanceof Document}e(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),e(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),e(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}},{key:"hideTorusButton",value:function(){this.communicationProvider.hideTorusButton()}},{key:"showTorusButton",value:function(){this.communicationProvider.showTorusButton()}},{key:"setProvider",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(t){return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.communicationProvider.request({method:jn.vU.SET_PROVIDER,params:Zi({},t)});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showWallet",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(t){var r,n,i,o,a=arguments;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.communicationProvider.request({method:jn.vU.WALLET_INSTANCE_ID,params:[]});case 3:n=e.sent,i=t?"/".concat(t):"",(o=new URL("".concat(this.torusUrl,"/wallet").concat(i))).searchParams.append("instanceId",n),Object.keys(r).forEach((function(e){o.searchParams.append(e,r[e])})),this.dappStorageKey&&(o.hash="#dappStorageKey=".concat(this.dappStorageKey)),new bi({url:o,features:fi(hi)}).open();case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserInfo",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(){var t;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.communicationProvider.request({method:jn.vU.USER_INFO,params:[]});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initiateTopup",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(t,r){var n,i;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}throw new Error("Torus is not initialized");case 2:return n=si(),this.communicationProvider._handleWindow(n),e.next=6,this.communicationProvider.request({method:jn.vU.TOPUP,params:{provider:t,params:r,windowId:n}});case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getAccounts",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(){var t;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"getAccounts",params:[]});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendTransaction",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(t){var r;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"send_transaction",params:{message:t.serialize({requireAllSignatures:!1}).toString("hex")}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signAndSendTransaction",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(t,r){var n;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"send_transaction",params:{message:t.serialize({requireAllSignatures:!1}).toString("hex"),options:r}});case 2:return n=e.sent,e.abrupt("return",{signature:n});case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(t){var r,n,i;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"sign_transaction",params:{message:t.serializeMessage().toString("hex"),messageOnly:!0}});case 2:return r=e.sent,n=JSON.parse(r),i={publicKey:new er(n.publicKey),signature:Yn.from(n.signature,"hex")},t.addSignature(i.publicKey,i.signature),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signAllTransactions",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(t){var r,n,i;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.map((function(e){return e.serializeMessage().toString("hex")})),e.next=3,this.provider.request({method:"sign_all_transactions",params:{message:r,messageOnly:!0}});case 3:return n=e.sent,i=n.map((function(e){var t=JSON.parse(e);return{publicKey:new er(t.publicKey),signature:Yn.from(t.signature,"hex")}})),t.forEach((function(e,t){return e.addSignature(i[t].publicKey,i[t].signature),e})),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signMessage",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(t){var r;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"sign_message",params:{data:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getGaslessPublicKey",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(){var t;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"get_gasless_public_key",params:[]});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleDappStorageKey",value:function(e){var t="";if(Ni&&e){var r=window.localStorage.getItem(oi.localStorageKey);if(r)t=r;else{var n="torus-app-".concat(si());window.localStorage.setItem(oi.localStorageKey,n),t=n}}return this.dappStorageKey=t,t}},{key:"_setupWeb3",value:function(){var e=(0,n.Z)((0,y.Z)().mark((function e(t){var r,n,i,o,a,s,u,c=this;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ai.info("setupWeb3 running"),r=new qn.XR({name:"embed_torus",target:"iframe_torus",targetWindow:this.torusIframe.contentWindow}),n=new qn.XR({name:"embed_communication",target:"iframe_communication",targetWindow:this.torusIframe.contentWindow}),i=new _i(r,{}),o=new ki(n,{}),i.tryWindowHandle=function(e,t){var r=e;if(!Array.isArray(r)&&Ti.includes(r.method)){if(!c.communicationProvider.isLoggedIn)throw new Error("User Not Logged In");var n=si();o._handleWindow(n,{target:"_blank",features:fi(di)}),r.windowId=n}i._rpcEngine.handle(r,t)},o.tryWindowHandle=function(e,t){var r=e;if(!Array.isArray(r)&&Ci.includes(r.method)){var n=si();o._handleWindow(n,{target:"_blank",features:fi(ci)}),r.params.windowId=n}o._rpcEngine.handle(r,t)},(a=function(e){var t=i[e],r=c;i[e]=function(e,n){var i=e.method,o=e.params,a=void 0===o?[]:o;if("solana_requestAccounts"===i){if(!n)return r.login({loginProvider:a[0]});r.login({loginProvider:a[0]}).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))}return t.apply(this,[e,n])}})("request"),a("sendAsync"),a("send"),s=new Proxy(i,{deleteProperty:function(){return!0}}),u=new Proxy(o,{deleteProperty:function(){return!0}}),this.provider=s,this.communicationProvider=u,e.next=17,Promise.all([i._initializeState(),o._initializeState(Zi(Zi({},t),{},{dappStorageKey:this.dappStorageKey,torusAlertContainer:this.torusAlertContainer,torusIframe:this.torusIframe}))]);case 17:ai.debug("Torus - injected provider");case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Bi=r(87485),Ui=r(99547),Li=r(69685);function zi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ji(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zi(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,h.Z)(e);if(t){var i=(0,h.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,c.Z)(this,r)}}var qi=function(e){(0,u.Z)(r,e);var t=Mi(r);function r(e){var n;return(0,i.Z)(this,r),n=t.call(this,e),(0,l.Z)((0,a.Z)(n),"name",Bi.rW.TORUS_SOLANA),(0,l.Z)((0,a.Z)(n),"adapterNamespace",Bi.yk.SOLANA),(0,l.Z)((0,a.Z)(n),"currentChainNamespace",Bi.EN.SOLANA),(0,l.Z)((0,a.Z)(n),"type",Bi.hN.EXTERNAL),(0,l.Z)((0,a.Z)(n),"status",Bi.MP.NOT_READY),(0,l.Z)((0,a.Z)(n),"torusInstance",null),(0,l.Z)((0,a.Z)(n),"torusWalletOptions",void 0),(0,l.Z)((0,a.Z)(n),"initParams",void 0),(0,l.Z)((0,a.Z)(n),"loginSettings",{}),(0,l.Z)((0,a.Z)(n),"solanaProvider",null),(0,l.Z)((0,a.Z)(n),"rehydrated",!1),n.torusWalletOptions=e.adapterSettings||{},n.initParams=e.initParams||{},n.loginSettings=e.loginSettings||{},n.chainConfig=e.chainConfig||null,n.sessionTime=e.sessionTime||86400,n}return(0,o.Z)(r,[{key:"provider",get:function(){var e;return this.status===Bi.MP.CONNECTED&&this.solanaProvider&&(null===(e=this.solanaProvider)||void 0===e?void 0:e.provider)||null},set:function(e){throw new Error("Not implemented")}},{key:"init",value:function(){var e=(0,n.Z)(f().mark((function e(t){var n,i,o,a,u,c,l,d,p,g,y,v,m,b,w;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,s.Z)((0,h.Z)(r.prototype),"checkInitializationRequirements",this).call(this),this.chainConfig?(p=this.chainConfig,g=p.chainId,y=p.blockExplorer,v=p.displayName,m=p.rpcTarget,b=p.ticker,w=p.tickerName,n={chainId:g,rpcTarget:m,blockExplorerUrl:y,displayName:v,tickerName:w,ticker:b,logo:""}):(this.chainConfig=(0,Bi.h2)(Bi.EN.SOLANA,"0x1"),i=this.chainConfig,o=i.blockExplorer,a=i.displayName,u=i.ticker,c=i.tickerName,l=i.rpcTarget,d=i.chainId,n={chainId:d,rpcTarget:l,blockExplorerUrl:o,displayName:a,ticker:u,tickerName:c,logo:""}),this.torusInstance=new Wi(this.torusWalletOptions),Bi.cM.debug("initializing torus solana adapter init"),e.next=6,this.torusInstance.init(ji(ji({showTorusButton:!1},this.initParams),{},{network:n}));case 6:if(this.solanaProvider=new Li.TorusInjectedProvider({config:{chainConfig:this.chainConfig}}),this.status=Bi.MP.READY,this.emit(Bi.n2.READY,Bi.rW.TORUS_SOLANA),e.prev=9,Bi.cM.debug("initializing torus solana adapter"),!t.autoConnect){e.next=15;break}return this.rehydrated=!0,e.next=15,this.connect();case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(9),Bi.cM.error("Failed to connect with cached torus solana provider",e.t0),this.emit(Bi.n2.ERRORED,e.t0);case 21:case"end":return e.stop()}}),e,this,[[9,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=(0,n.Z)(f().mark((function e(){var t,n,i,o,a,u,c,l,d;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,s.Z)((0,h.Z)(r.prototype),"checkConnectionRequirements",this).call(this),this.torusInstance){e.next=3;break}throw Bi.Ty.notReady("Torus wallet is not initialized");case 3:if(this.solanaProvider){e.next=5;break}throw Bi.Ty.notReady("Torus wallet is not initialized");case 5:return this.status=Bi.MP.CONNECTING,this.emit(Bi.n2.CONNECTING,{adapter:Bi.rW.TORUS_SOLANA}),e.prev=7,e.next=10,this.torusInstance.login(this.loginSettings);case 10:return e.prev=10,(t=this.torusInstance.provider).sendTransaction=this.torusInstance.sendTransaction.bind(this.torusInstance),t.signAllTransactions=this.torusInstance.signAllTransactions.bind(this.torusInstance),t.signMessage=this.torusInstance.signMessage.bind(this.torusInstance),t.signTransaction=this.torusInstance.signTransaction.bind(this.torusInstance),e.next=18,this.solanaProvider.setupProvider(t);case 18:case 27:e.next=30;break;case 20:if(e.prev=20,e.t0=e.catch(10),!(e.t0 instanceof Bi.up&&5010===e.t0.code)){e.next=29;break}return n=this.chainConfig,i=n.chainId,o=n.blockExplorer,a=n.displayName,u=n.rpcTarget,c=n.ticker,l=n.tickerName,d={chainId:i,rpcTarget:u,blockExplorerUrl:o,displayName:a,tickerName:l,ticker:c,logo:""},e.next=27,this.torusInstance.setProvider(d);case 29:throw e.t0;case 30:return this.status=Bi.MP.CONNECTED,this.torusInstance.showTorusButton(),this.emit(Bi.MP.CONNECTED,{adapter:Bi.rW.TORUS_SOLANA,reconnected:this.rehydrated}),e.abrupt("return",this.provider);case 36:throw e.prev=36,e.t1=e.catch(7),this.status=Bi.MP.READY,this.rehydrated=!1,this.emit(Bi.n2.ERRORED,e.t1),Bi.RM.connectionError("Failed to login with torus solana wallet");case 42:case"end":return e.stop()}}),e,this,[[7,36],[10,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=(0,n.Z)(f().mark((function e(){var t,n=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{cleanup:!1},this.torusInstance){e.next=3;break}throw Bi.Ty.notReady("Torus wallet is not initialized");case 3:return e.next=5,(0,s.Z)((0,h.Z)(r.prototype),"disconnect",this).call(this);case 5:return e.next=7,this.torusInstance.logout();case 7:t.cleanup?(this.status=Bi.MP.NOT_READY,this.torusInstance=null,this.solanaProvider=null):this.status=Bi.MP.READY,this.emit(Bi.n2.DISCONNECTED);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserInfo",value:function(){var e=(0,n.Z)(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status===Bi.MP.CONNECTED){e.next=2;break}throw Bi.RM.notConnectedError("Not connected with wallet");case 2:if(this.torusInstance){e.next=4;break}throw Bi.Ty.notReady("Torus wallet is not initialized");case 4:return e.next=6,this.torusInstance.getUserInfo();case 6:return t=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setAdapterSettings",value:function(e){this.status!==Bi.MP.READY&&(null!==e&&void 0!==e&&e.sessionTime&&(this.sessionTime=e.sessionTime),null!==e&&void 0!==e&&e.clientId&&(this.clientId=e.clientId))}}]),r}(Ui.v)},31325:function(e){"use strict";var t=function(e){return null!==e&&"object"===typeof e&&"function"===typeof e.pipe};t.writable=function(e){return t(e)&&!1!==e.writable&&"function"===typeof e._write&&"object"===typeof e._writableState},t.readable=function(e){return t(e)&&!1!==e.readable&&"function"===typeof e._read&&"object"===typeof e._readableState},t.duplex=function(e){return t.writable(e)&&t.readable(e)},t.transform=function(e){return t.duplex(e)&&"function"===typeof e._transform},e.exports=t},27384:function(e){"use strict";e.exports=JSON.parse('{"name":"@toruslabs/solana-embed","version":"0.3.0","description":"Embed script for solana blockchain","main":"dist/solanaEmbed.cjs.js","module":"dist/solanaEmbed.esm.js","unpkg":"dist/solanaEmbed.umd.min.js","jsdelivr":"dist/solanaEmbed.umd.min.js","types":"dist/types/index.d.ts","files":["dist","src"],"scripts":{"start":"torus-scripts start","build":"torus-scripts build","build:test":"cross-env NODE_ENV=testing torus-scripts build","release":"torus-scripts release","prepack":"npm run build","lint:ts":"eslint --fix \'src/**/*.ts\'","prepare":"husky install"},"repository":{"type":"git","url":"git+https://github.com/torusresearch/solana-embed.git"},"dependencies":{"@solana/web3.js":"^1.36.0","@toruslabs/base-controllers":"^2.2.3","@toruslabs/http-helpers":"^3.0.0","@toruslabs/openlogin-jrpc":"^2.0.0","eth-rpc-errors":"^4.0.3","fast-deep-equal":"^3.1.3","is-stream":"^2.0.1","lodash-es":"^4.17.21","loglevel":"^1.8.0","pump":"^3.0.0"},"peerDependencies":{"@babel/runtime":"7.x"},"devDependencies":{"@babel/register":"^7.17.7","@babel/runtime":"^7.18.9","@commitlint/cli":"^16.2.4","@commitlint/config-conventional":"^16.2.4","@commitlint/is-ignored":"^16.2.4","@toruslabs/eslint-config-typescript":"^1.0.6","@toruslabs/torus-scripts":"^1.0.9","@types/bs58":"^4.0.1","@types/node":"^17.0.45","@types/once":"^1.4.0","@types/pump":"^1.1.1","@types/readable-stream":"^2.3.14","@typescript-eslint/eslint-plugin":"^5.25.0","@typescript-eslint/parser":"^5.25.0","cross-env":"^7.0.3","eslint":"^8.15.0","eslint-plugin-import":"^2.26.0","eslint-plugin-mocha":"^10.0.5","eslint-plugin-n":"^15.2.4","eslint-plugin-prettier":"^4.0.0","eslint-plugin-promise":"^6.0.0","eslint-plugin-simple-import-sort":"^7.0.0","eslint-plugin-tsdoc":"^0.2.16","husky":"^8.0.1","lint-staged":"^12.4.3","mocha":"^10.0.0","prettier":"^2.6.2","puppeteer":"^14.1.2","rimraf":"^3.0.2","ts-node":"^10.7.0","typescript":"^4.6.4"},"mocha":{"timeout":0},"keywords":["torus","wallet","Solana","embed","login","OAuth","crypto"],"author":"Torus Labs","license":"ISC","bugs":{"url":"https://github.com/torusresearch/solana-embed/issues"},"homepage":"https://github.com/torusresearch/solana-embed#readme","lint-staged":{"!(*d).{js,ts}":["eslint --cache --fix","prettier --write"],"*.{json, md}":["prettier --write"]},"engines":{"node":">=14.17.0","npm":">=6.x"}}')}}]);